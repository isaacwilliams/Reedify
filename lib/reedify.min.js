(function(e) {
    "use strict";
    var a = function(b, d, c) {
        return 1 === arguments.length ? a.get(b) : a.set(b, d, c);
    };
    a._document = document, a._navigator = navigator, a.defaults = {
        path: "/"
    }, a.get = function(b) {
        return a._cachedDocumentCookie !== a._document.cookie && a._renewCache(), a._cache[b];
    }, a.set = function(b, d, c) {
        return c = a._getExtendedOptions(c), c.expires = a._getExpiresDate(d === e ? -1 : c.expires), 
        a._document.cookie = a._generateCookieString(b, d, c), a;
    }, a.expire = function(b, d) {
        return a.set(b, e, d);
    }, a._getExtendedOptions = function(b) {
        return {
            path: b && b.path || a.defaults.path,
            domain: b && b.domain || a.defaults.domain,
            expires: b && b.expires || a.defaults.expires,
            secure: b && b.secure !== e ? b.secure : a.defaults.secure
        };
    }, a._isValidDate = function(b) {
        return "[object Date]" === Object.prototype.toString.call(b) && !isNaN(b.getTime());
    }, a._getExpiresDate = function(b, d) {
        switch (d = d || new Date(), typeof b) {
          case "number":
            b = new Date(d.getTime() + 1e3 * b);
            break;

          case "string":
            b = new Date(b);
        }
        if (b && !a._isValidDate(b)) throw Error("`expires` parameter cannot be converted to a valid Date instance");
        return b;
    }, a._generateCookieString = function(b, a, c) {
        return b = encodeURIComponent(b), a = (a + "").replace(/[^!#$&-+\--:<-\[\]-~]/g, encodeURIComponent), 
        c = c || {}, b = b + "=" + a + (c.path ? ";path=" + c.path : ""), b += c.domain ? ";domain=" + c.domain : "", 
        b += c.expires ? ";expires=" + c.expires.toGMTString() : "", b += c.secure ? ";secure" : "";
    }, a._getCookieObjectFromString = function(b) {
        var d = {};
        b = b ? b.split("; ") : [];
        for (var c = 0; c < b.length; c++) {
            var f = a._getKeyValuePairFromCookieString(b[c]);
            d[f.key] === e && (d[f.key] = f.value);
        }
        return d;
    }, a._getKeyValuePairFromCookieString = function(b) {
        var a = b.indexOf("="), a = 0 > a ? b.length : a;
        return {
            key: decodeURIComponent(b.substr(0, a)),
            value: decodeURIComponent(b.substr(a + 1))
        };
    }, a._renewCache = function() {
        a._cache = a._getCookieObjectFromString(a._document.cookie), a._cachedDocumentCookie = a._document.cookie;
    }, a._areEnabled = function() {
        return a._navigator.cookieEnabled || "1" === a.set("cookies.js", 1).get("cookies.js");
    }, a.enabled = a._areEnabled(), "function" == typeof define && define.amd ? define(function() {
        return a;
    }) : "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = a), 
    exports.Cookies = a) : window.Cookies = a;
})();

var Handlebars = {};

(function(Handlebars, undefined) {
    Handlebars.VERSION = "1.0.0", Handlebars.COMPILER_REVISION = 4, Handlebars.REVISION_CHANGES = {
        1: "<= 1.0.rc.2",
        2: "== 1.0.0-rc.3",
        3: "== 1.0.0-rc.4",
        4: ">= 1.0.0"
    }, Handlebars.helpers = {}, Handlebars.partials = {};
    var toString = Object.prototype.toString, functionType = "[object Function]", objectType = "[object Object]";
    Handlebars.registerHelper = function(name, fn, inverse) {
        if (toString.call(name) === objectType) {
            if (inverse || fn) throw new Handlebars.Exception("Arg not supported with multiple helpers");
            Handlebars.Utils.extend(this.helpers, name);
        } else inverse && (fn.not = inverse), this.helpers[name] = fn;
    }, Handlebars.registerPartial = function(name, str) {
        toString.call(name) === objectType ? Handlebars.Utils.extend(this.partials, name) : this.partials[name] = str;
    }, Handlebars.registerHelper("helperMissing", function(arg) {
        if (2 === arguments.length) return undefined;
        throw new Error("Missing helper: '" + arg + "'");
    }), Handlebars.registerHelper("blockHelperMissing", function(context, options) {
        var inverse = options.inverse || function() {}, fn = options.fn, type = toString.call(context);
        return type === functionType && (context = context.call(this)), context === !0 ? fn(this) : context === !1 || null == context ? inverse(this) : "[object Array]" === type ? context.length > 0 ? Handlebars.helpers.each(context, options) : inverse(this) : fn(context);
    }), Handlebars.K = function() {}, Handlebars.createFrame = Object.create || function(object) {
        Handlebars.K.prototype = object;
        var obj = new Handlebars.K();
        return Handlebars.K.prototype = null, obj;
    }, Handlebars.logger = {
        DEBUG: 0,
        INFO: 1,
        WARN: 2,
        ERROR: 3,
        level: 3,
        methodMap: {
            0: "debug",
            1: "info",
            2: "warn",
            3: "error"
        },
        log: function(level, obj) {
            if (Handlebars.logger.level <= level) {
                var method = Handlebars.logger.methodMap[level];
                "undefined" != typeof console && console[method] && console[method].call(console, obj);
            }
        }
    }, Handlebars.log = function(level, obj) {
        Handlebars.logger.log(level, obj);
    }, Handlebars.registerHelper("each", function(context, options) {
        var data, fn = options.fn, inverse = options.inverse, i = 0, ret = "", type = toString.call(context);
        if (type === functionType && (context = context.call(this)), options.data && (data = Handlebars.createFrame(options.data)), 
        context && "object" == typeof context) if (context instanceof Array) for (var j = context.length; j > i; i++) data && (data.index = i), 
        ret += fn(context[i], {
            data: data
        }); else for (var key in context) context.hasOwnProperty(key) && (data && (data.key = key), 
        ret += fn(context[key], {
            data: data
        }), i++);
        return 0 === i && (ret = inverse(this)), ret;
    }), Handlebars.registerHelper("if", function(conditional, options) {
        var type = toString.call(conditional);
        return type === functionType && (conditional = conditional.call(this)), !conditional || Handlebars.Utils.isEmpty(conditional) ? options.inverse(this) : options.fn(this);
    }), Handlebars.registerHelper("unless", function(conditional, options) {
        return Handlebars.helpers["if"].call(this, conditional, {
            fn: options.inverse,
            inverse: options.fn
        });
    }), Handlebars.registerHelper("with", function(context, options) {
        var type = toString.call(context);
        return type === functionType && (context = context.call(this)), Handlebars.Utils.isEmpty(context) ? void 0 : options.fn(context);
    }), Handlebars.registerHelper("log", function(context, options) {
        var level = options.data && null != options.data.level ? parseInt(options.data.level, 10) : 1;
        Handlebars.log(level, context);
    });
    var errorProps = [ "description", "fileName", "lineNumber", "message", "name", "number", "stack" ];
    Handlebars.Exception = function() {
        for (var tmp = Error.prototype.constructor.apply(this, arguments), idx = 0; idx < errorProps.length; idx++) this[errorProps[idx]] = tmp[errorProps[idx]];
    }, Handlebars.Exception.prototype = new Error(), Handlebars.SafeString = function(string) {
        this.string = string;
    }, Handlebars.SafeString.prototype.toString = function() {
        return this.string.toString();
    };
    var escape = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#x27;",
        "`": "&#x60;"
    }, badChars = /[&<>"'`]/g, possible = /[&<>"'`]/, escapeChar = function(chr) {
        return escape[chr] || "&amp;";
    };
    Handlebars.Utils = {
        extend: function(obj, value) {
            for (var key in value) value.hasOwnProperty(key) && (obj[key] = value[key]);
        },
        escapeExpression: function(string) {
            return string instanceof Handlebars.SafeString ? string.toString() : null == string || string === !1 ? "" : (string = string.toString(), 
            possible.test(string) ? string.replace(badChars, escapeChar) : string);
        },
        isEmpty: function(value) {
            return value || 0 === value ? "[object Array]" === toString.call(value) && 0 === value.length ? !0 : !1 : !0;
        }
    }, Handlebars.VM = {
        template: function(templateSpec) {
            var container = {
                escapeExpression: Handlebars.Utils.escapeExpression,
                invokePartial: Handlebars.VM.invokePartial,
                programs: [],
                program: function(i, fn, data) {
                    var programWrapper = this.programs[i];
                    return data ? programWrapper = Handlebars.VM.program(i, fn, data) : programWrapper || (programWrapper = this.programs[i] = Handlebars.VM.program(i, fn)), 
                    programWrapper;
                },
                merge: function(param, common) {
                    var ret = param || common;
                    return param && common && (ret = {}, Handlebars.Utils.extend(ret, common), Handlebars.Utils.extend(ret, param)), 
                    ret;
                },
                programWithDepth: Handlebars.VM.programWithDepth,
                noop: Handlebars.VM.noop,
                compilerInfo: null
            };
            return function(context, options) {
                options = options || {};
                var result = templateSpec.call(container, Handlebars, context, options.helpers, options.partials, options.data), compilerInfo = container.compilerInfo || [], compilerRevision = compilerInfo[0] || 1, currentRevision = Handlebars.COMPILER_REVISION;
                if (compilerRevision !== currentRevision) {
                    if (currentRevision > compilerRevision) {
                        var runtimeVersions = Handlebars.REVISION_CHANGES[currentRevision], compilerVersions = Handlebars.REVISION_CHANGES[compilerRevision];
                        throw "Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (" + runtimeVersions + ") or downgrade your runtime to an older version (" + compilerVersions + ").";
                    }
                    throw "Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (" + compilerInfo[1] + ").";
                }
                return result;
            };
        },
        programWithDepth: function(i, fn, data) {
            var args = Array.prototype.slice.call(arguments, 3), program = function(context, options) {
                return options = options || {}, fn.apply(this, [ context, options.data || data ].concat(args));
            };
            return program.program = i, program.depth = args.length, program;
        },
        program: function(i, fn, data) {
            var program = function(context, options) {
                return options = options || {}, fn(context, options.data || data);
            };
            return program.program = i, program.depth = 0, program;
        },
        noop: function() {
            return "";
        },
        invokePartial: function(partial, name, context, helpers, partials, data) {
            var options = {
                helpers: helpers,
                partials: partials,
                data: data
            };
            if (partial === undefined) throw new Handlebars.Exception("The partial " + name + " could not be found");
            if (partial instanceof Function) return partial(context, options);
            if (Handlebars.compile) return partials[name] = Handlebars.compile(partial, {
                data: data !== undefined
            }), partials[name](context, options);
            throw new Handlebars.Exception("The partial " + name + " could not be compiled when running in runtime-only mode");
        }
    }, Handlebars.template = Handlebars.VM.template;
})(Handlebars);

var Handlebars = {};

(function(c, e) {
    c.VERSION = "1.0.0", c.COMPILER_REVISION = 4, c.REVISION_CHANGES = {
        1: "<= 1.0.rc.2",
        2: "== 1.0.0-rc.3",
        3: "== 1.0.0-rc.4",
        4: ">= 1.0.0"
    }, c.helpers = {}, c.partials = {};
    var d = Object.prototype.toString, f = "[object Function]", b = "[object Object]";
    c.registerHelper = function(l, m, k) {
        if (d.call(l) === b) {
            if (k || m) throw new c.Exception("Arg not supported with multiple helpers");
            c.Utils.extend(this.helpers, l);
        } else k && (m.not = k), this.helpers[l] = m;
    }, c.registerPartial = function(k, l) {
        d.call(k) === b ? c.Utils.extend(this.partials, k) : this.partials[k] = l;
    }, c.registerHelper("helperMissing", function(k) {
        if (2 === arguments.length) return e;
        throw new Error("Missing helper: '" + k + "'");
    }), c.registerHelper("blockHelperMissing", function(m, l) {
        var k = l.inverse || function() {}, o = l.fn, n = d.call(m);
        return n === f && (m = m.call(this)), m === !0 ? o(this) : m === !1 || null == m ? k(this) : "[object Array]" === n ? m.length > 0 ? c.helpers.each(m, l) : k(this) : o(m);
    }), c.K = function() {}, c.createFrame = Object.create || function(k) {
        c.K.prototype = k;
        var l = new c.K();
        return c.K.prototype = null, l;
    }, c.logger = {
        DEBUG: 0,
        INFO: 1,
        WARN: 2,
        ERROR: 3,
        level: 3,
        methodMap: {
            0: "debug",
            1: "info",
            2: "warn",
            3: "error"
        },
        log: function(m, k) {
            if (c.logger.level <= m) {
                var l = c.logger.methodMap[m];
                "undefined" != typeof console && console[l] && console[l].call(console, k);
            }
        }
    }, c.log = function(l, k) {
        c.logger.log(l, k);
    }, c.registerHelper("each", function(k, t) {
        var n, r = t.fn, m = t.inverse, o = 0, p = "", q = d.call(k);
        if (q === f && (k = k.call(this)), t.data && (n = c.createFrame(t.data)), k && "object" == typeof k) if (k instanceof Array) for (var l = k.length; l > o; o++) n && (n.index = o), 
        p += r(k[o], {
            data: n
        }); else for (var s in k) k.hasOwnProperty(s) && (n && (n.key = s), p += r(k[s], {
            data: n
        }), o++);
        return 0 === o && (p = m(this)), p;
    }), c.registerHelper("if", function(l, k) {
        var m = d.call(l);
        return m === f && (l = l.call(this)), !l || c.Utils.isEmpty(l) ? k.inverse(this) : k.fn(this);
    }), c.registerHelper("unless", function(l, k) {
        return c.helpers["if"].call(this, l, {
            fn: k.inverse,
            inverse: k.fn
        });
    }), c.registerHelper("with", function(l, k) {
        var m = d.call(l);
        return m === f && (l = l.call(this)), c.Utils.isEmpty(l) ? void 0 : k.fn(l);
    }), c.registerHelper("log", function(l, k) {
        var m = k.data && null != k.data.level ? parseInt(k.data.level, 10) : 1;
        c.log(m, l);
    });
    var i = [ "description", "fileName", "lineNumber", "message", "name", "number", "stack" ];
    c.Exception = function() {
        for (var l = Error.prototype.constructor.apply(this, arguments), k = 0; k < i.length; k++) this[i[k]] = l[i[k]];
    }, c.Exception.prototype = new Error(), c.SafeString = function(k) {
        this.string = k;
    }, c.SafeString.prototype.toString = function() {
        return this.string.toString();
    };
    var h = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#x27;",
        "`": "&#x60;"
    }, a = /[&<>"'`]/g, g = /[&<>"'`]/, j = function(k) {
        return h[k] || "&amp;";
    };
    c.Utils = {
        extend: function(m, l) {
            for (var k in l) l.hasOwnProperty(k) && (m[k] = l[k]);
        },
        escapeExpression: function(k) {
            return k instanceof c.SafeString ? k.toString() : null == k || k === !1 ? "" : (k = k.toString(), 
            g.test(k) ? k.replace(a, j) : k);
        },
        isEmpty: function(k) {
            return k || 0 === k ? "[object Array]" === d.call(k) && 0 === k.length ? !0 : !1 : !0;
        }
    }, c.VM = {
        template: function(k) {
            var l = {
                escapeExpression: c.Utils.escapeExpression,
                invokePartial: c.VM.invokePartial,
                programs: [],
                program: function(n, o, p) {
                    var m = this.programs[n];
                    return p ? m = c.VM.program(n, o, p) : m || (m = this.programs[n] = c.VM.program(n, o)), 
                    m;
                },
                merge: function(o, n) {
                    var m = o || n;
                    return o && n && (m = {}, c.Utils.extend(m, n), c.Utils.extend(m, o)), m;
                },
                programWithDepth: c.VM.programWithDepth,
                noop: c.VM.noop,
                compilerInfo: null
            };
            return function(q, p) {
                p = p || {};
                var n = k.call(l, c, q, p.helpers, p.partials, p.data), r = l.compilerInfo || [], o = r[0] || 1, t = c.COMPILER_REVISION;
                if (o !== t) {
                    if (t > o) {
                        var m = c.REVISION_CHANGES[t], s = c.REVISION_CHANGES[o];
                        throw "Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (" + m + ") or downgrade your runtime to an older version (" + s + ").";
                    }
                    throw "Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (" + r[1] + ").";
                }
                return n;
            };
        },
        programWithDepth: function(m, n, o) {
            var l = Array.prototype.slice.call(arguments, 3), k = function(q, p) {
                return p = p || {}, n.apply(this, [ q, p.data || o ].concat(l));
            };
            return k.program = m, k.depth = l.length, k;
        },
        program: function(l, m, n) {
            var k = function(p, o) {
                return o = o || {}, m(p, o.data || n);
            };
            return k.program = l, k.depth = 0, k;
        },
        noop: function() {
            return "";
        },
        invokePartial: function(k, m, o, p, n, q) {
            var l = {
                helpers: p,
                partials: n,
                data: q
            };
            if (k === e) throw new c.Exception("The partial " + m + " could not be found");
            if (k instanceof Function) return k(o, l);
            if (c.compile) return n[m] = c.compile(k, {
                data: q !== e
            }), n[m](o, l);
            throw new c.Exception("The partial " + m + " could not be compiled when running in runtime-only mode");
        }
    }, c.template = c.VM.template;
})(Handlebars), "object" != typeof JSON && (JSON = {}), function() {
    "use strict";
    function f(n) {
        return 10 > n ? "0" + n : n;
    }
    function quote(string) {
        return escapable.lastIndex = 0, escapable.test(string) ? '"' + string.replace(escapable, function(a) {
            var c = meta[a];
            return "string" == typeof c ? c : "\\u" + ("0000" + a.charCodeAt(0).toString(16)).slice(-4);
        }) + '"' : '"' + string + '"';
    }
    function str(key, holder) {
        var i, k, v, length, partial, mind = gap, value = holder[key];
        switch (value && "object" == typeof value && "function" == typeof value.toJSON && (value = value.toJSON(key)), 
        "function" == typeof rep && (value = rep.call(holder, key, value)), typeof value) {
          case "string":
            return quote(value);

          case "number":
            return isFinite(value) ? String(value) : "null";

          case "boolean":
          case "null":
            return String(value);

          case "object":
            if (!value) return "null";
            if (gap += indent, partial = [], "[object Array]" === Object.prototype.toString.apply(value)) {
                for (length = value.length, i = 0; length > i; i += 1) partial[i] = str(i, value) || "null";
                return v = 0 === partial.length ? "[]" : gap ? "[\n" + gap + partial.join(",\n" + gap) + "\n" + mind + "]" : "[" + partial.join(",") + "]", 
                gap = mind, v;
            }
            if (rep && "object" == typeof rep) for (length = rep.length, i = 0; length > i; i += 1) "string" == typeof rep[i] && (k = rep[i], 
            v = str(k, value), v && partial.push(quote(k) + (gap ? ": " : ":") + v)); else for (k in value) Object.prototype.hasOwnProperty.call(value, k) && (v = str(k, value), 
            v && partial.push(quote(k) + (gap ? ": " : ":") + v));
            return v = 0 === partial.length ? "{}" : gap ? "{\n" + gap + partial.join(",\n" + gap) + "\n" + mind + "}" : "{" + partial.join(",") + "}", 
            gap = mind, v;
        }
    }
    "function" != typeof Date.prototype.toJSON && (Date.prototype.toJSON = function() {
        return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + f(this.getUTCMonth() + 1) + "-" + f(this.getUTCDate()) + "T" + f(this.getUTCHours()) + ":" + f(this.getUTCMinutes()) + ":" + f(this.getUTCSeconds()) + "Z" : null;
    }, String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function() {
        return this.valueOf();
    });
    var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, gap, indent, meta = {
        "\b": "\\b",
        "	": "\\t",
        "\n": "\\n",
        "\f": "\\f",
        "\r": "\\r",
        '"': '\\"',
        "\\": "\\\\"
    }, rep;
    "function" != typeof JSON.stringify && (JSON.stringify = function(value, replacer, space) {
        var i;
        if (gap = "", indent = "", "number" == typeof space) for (i = 0; space > i; i += 1) indent += " "; else "string" == typeof space && (indent = space);
        if (rep = replacer, replacer && "function" != typeof replacer && ("object" != typeof replacer || "number" != typeof replacer.length)) throw new Error("JSON.stringify");
        return str("", {
            "": value
        });
    }), "function" != typeof JSON.parse && (JSON.parse = function(text, reviver) {
        function walk(holder, key) {
            var k, v, value = holder[key];
            if (value && "object" == typeof value) for (k in value) Object.prototype.hasOwnProperty.call(value, k) && (v = walk(value, k), 
            void 0 !== v ? value[k] = v : delete value[k]);
            return reviver.call(holder, key, value);
        }
        var j;
        if (text = String(text), cx.lastIndex = 0, cx.test(text) && (text = text.replace(cx, function(a) {
            return "\\u" + ("0000" + a.charCodeAt(0).toString(16)).slice(-4);
        })), /^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) return j = eval("(" + text + ")"), 
        "function" == typeof reviver ? walk({
            "": j
        }, "") : j;
        throw new SyntaxError("JSON.parse");
    });
}(), function(e) {
    function O(e, t) {
        return function(n) {
            return j(e.call(this, n), t);
        };
    }
    function M(e) {
        return function(t) {
            return this.lang().ordinal(e.call(this, t));
        };
    }
    function _() {}
    function D(e) {
        H(this, e);
    }
    function P(e) {
        var t = this._data = {}, n = e.years || e.year || e.y || 0, r = e.months || e.month || e.M || 0, i = e.weeks || e.week || e.w || 0, s = e.days || e.day || e.d || 0, o = e.hours || e.hour || e.h || 0, u = e.minutes || e.minute || e.m || 0, a = e.seconds || e.second || e.s || 0, f = e.milliseconds || e.millisecond || e.ms || 0;
        this._milliseconds = f + 1e3 * a + 6e4 * u + 36e5 * o, this._days = s + 7 * i, this._months = r + 12 * n, 
        t.milliseconds = f % 1e3, a += B(f / 1e3), t.seconds = a % 60, u += B(a / 60), t.minutes = u % 60, 
        o += B(u / 60), t.hours = o % 24, s += B(o / 24), s += 7 * i, t.days = s % 30, r += B(s / 30), 
        t.months = r % 12, n += B(r / 12), t.years = n;
    }
    function H(e, t) {
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
        return e;
    }
    function B(e) {
        return 0 > e ? Math.ceil(e) : Math.floor(e);
    }
    function j(e, t) {
        for (var n = e + ""; n.length < t; ) n = "0" + n;
        return n;
    }
    function F(e, t, n) {
        var o, r = t._milliseconds, i = t._days, s = t._months;
        r && e._d.setTime(+e + r * n), i && e.date(e.date() + i * n), s && (o = e.date(), 
        e.date(1).month(e.month() + s * n).date(Math.min(o, e.daysInMonth())));
    }
    function I(e) {
        return "[object Array]" === Object.prototype.toString.call(e);
    }
    function q(e, t) {
        var s, n = Math.min(e.length, t.length), r = Math.abs(e.length - t.length), i = 0;
        for (s = 0; n > s; s++) ~~e[s] !== ~~t[s] && i++;
        return i + r;
    }
    function R(e, t) {
        return t.abbr = e, s[e] || (s[e] = new _()), s[e].set(t), s[e];
    }
    function U(e) {
        return e ? (!s[e] && o && require("./lang/" + e), s[e]) : t.fn._lang;
    }
    function z(e) {
        return e.match(/\[.*\]/) ? e.replace(/^\[|\]$/g, "") : e.replace(/\\/g, "");
    }
    function W(e) {
        var n, r, t = e.match(a);
        for (n = 0, r = t.length; r > n; n++) t[n] = A[t[n]] ? A[t[n]] : z(t[n]);
        return function(i) {
            var s = "";
            for (n = 0; r > n; n++) s += "function" == typeof t[n].call ? t[n].call(i, e) : t[n];
            return s;
        };
    }
    function X(e, t) {
        function r(t) {
            return e.lang().longDateFormat(t) || t;
        }
        for (var n = 5; n-- && f.test(t); ) t = t.replace(f, r);
        return C[t] || (C[t] = W(t)), C[t](e);
    }
    function V(e) {
        switch (e) {
          case "DDDD":
            return p;

          case "YYYY":
            return d;

          case "YYYYY":
            return v;

          case "S":
          case "SS":
          case "SSS":
          case "DDD":
            return h;

          case "MMM":
          case "MMMM":
          case "dd":
          case "ddd":
          case "dddd":
          case "a":
          case "A":
            return m;

          case "X":
            return b;

          case "Z":
          case "ZZ":
            return g;

          case "T":
            return y;

          case "MM":
          case "DD":
          case "YY":
          case "HH":
          case "hh":
          case "mm":
          case "ss":
          case "M":
          case "D":
          case "d":
          case "H":
          case "h":
          case "m":
          case "s":
            return c;

          default:
            return new RegExp(e.replace("\\", ""));
        }
    }
    function $(e, t, n) {
        var r, s = n._a;
        switch (e) {
          case "M":
          case "MM":
            s[1] = null == t ? 0 : ~~t - 1;
            break;

          case "MMM":
          case "MMMM":
            r = U(n._l).monthsParse(t), null != r ? s[1] = r : n._isValid = !1;
            break;

          case "D":
          case "DD":
          case "DDD":
          case "DDDD":
            null != t && (s[2] = ~~t);
            break;

          case "YY":
            s[0] = ~~t + (~~t > 68 ? 1900 : 2e3);
            break;

          case "YYYY":
          case "YYYYY":
            s[0] = ~~t;
            break;

          case "a":
          case "A":
            n._isPm = "pm" === (t + "").toLowerCase();
            break;

          case "H":
          case "HH":
          case "h":
          case "hh":
            s[3] = ~~t;
            break;

          case "m":
          case "mm":
            s[4] = ~~t;
            break;

          case "s":
          case "ss":
            s[5] = ~~t;
            break;

          case "S":
          case "SS":
          case "SSS":
            s[6] = ~~(1e3 * ("0." + t));
            break;

          case "X":
            n._d = new Date(1e3 * parseFloat(t));
            break;

          case "Z":
          case "ZZ":
            n._useUTC = !0, r = (t + "").match(x), r && r[1] && (n._tzh = ~~r[1]), r && r[2] && (n._tzm = ~~r[2]), 
            r && "+" === r[0] && (n._tzh = -n._tzh, n._tzm = -n._tzm);
        }
        null == t && (n._isValid = !1);
    }
    function J(e) {
        var t, n, r = [];
        if (!e._d) {
            for (t = 0; 7 > t; t++) e._a[t] = r[t] = null == e._a[t] ? 2 === t ? 1 : 0 : e._a[t];
            r[3] += e._tzh || 0, r[4] += e._tzm || 0, n = new Date(0), e._useUTC ? (n.setUTCFullYear(r[0], r[1], r[2]), 
            n.setUTCHours(r[3], r[4], r[5], r[6])) : (n.setFullYear(r[0], r[1], r[2]), n.setHours(r[3], r[4], r[5], r[6])), 
            e._d = n;
        }
    }
    function K(e) {
        var r, i, t = e._f.match(a), n = e._i;
        for (e._a = [], r = 0; r < t.length; r++) i = (V(t[r]).exec(n) || [])[0], i && (n = n.slice(n.indexOf(i) + i.length)), 
        A[t[r]] && $(t[r], i, e);
        e._isPm && e._a[3] < 12 && (e._a[3] += 12), e._isPm === !1 && 12 === e._a[3] && (e._a[3] = 0), 
        J(e);
    }
    function Q(e) {
        for (var t, n, r, u, i = 99; e._f.length; ) {
            if (t = H({}, e), t._f = e._f.pop(), K(t), n = new D(t), n.isValid()) {
                r = n;
                break;
            }
            u = q(t._a, n.toArray()), i > u && (i = u, r = n);
        }
        H(e, r);
    }
    function G(e) {
        var t, n = e._i;
        if (w.exec(n)) {
            for (e._f = "YYYY-MM-DDT", t = 0; 4 > t; t++) if (S[t][1].exec(n)) {
                e._f += S[t][0];
                break;
            }
            g.exec(n) && (e._f += " Z"), K(e);
        } else e._d = new Date(n);
    }
    function Y(t) {
        var n = t._i, r = u.exec(n);
        n === e ? t._d = new Date() : r ? t._d = new Date(+r[1]) : "string" == typeof n ? G(t) : I(n) ? (t._a = n.slice(0), 
        J(t)) : t._d = n instanceof Date ? new Date(+n) : new Date(n);
    }
    function Z(e, t, n, r, i) {
        return i.relativeTime(t || 1, !!n, e, r);
    }
    function et(e, t, n) {
        var i = r(Math.abs(e) / 1e3), s = r(i / 60), o = r(s / 60), u = r(o / 24), a = r(u / 365), f = 45 > i && [ "s", i ] || 1 === s && [ "m" ] || 45 > s && [ "mm", s ] || 1 === o && [ "h" ] || 22 > o && [ "hh", o ] || 1 === u && [ "d" ] || 25 >= u && [ "dd", u ] || 45 >= u && [ "M" ] || 345 > u && [ "MM", r(u / 30) ] || 1 === a && [ "y" ] || [ "yy", a ];
        return f[2] = t, f[3] = e > 0, f[4] = n, Z.apply({}, f);
    }
    function tt(e, n, r) {
        var i = r - n, s = r - e.day();
        return s > i && (s -= 7), i - 7 > s && (s += 7), Math.ceil(t(e).add("d", s).dayOfYear() / 7);
    }
    function nt(e) {
        var n = e._i, r = e._f;
        return null === n || "" === n ? null : ("string" == typeof n && (e._i = n = U().preparse(n)), 
        t.isMoment(n) ? (e = H({}, n), e._d = new Date(+n._d)) : r ? I(r) ? Q(e) : K(e) : Y(e), 
        new D(e));
    }
    function rt(e, n) {
        t.fn[e] = t.fn[e + "s"] = function(e) {
            var t = this._isUTC ? "UTC" : "";
            return null != e ? (this._d["set" + t + n](e), this) : this._d["get" + t + n]();
        };
    }
    function it(e) {
        t.duration.fn[e] = function() {
            return this._data[e];
        };
    }
    function st(e, n) {
        t.duration.fn["as" + e] = function() {
            return +this / n;
        };
    }
    for (var t, i, n = "2.0.0", r = Math.round, s = {}, o = "undefined" != typeof module && module.exports, u = /^\/?Date\((\-?\d+)/i, a = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g, f = /(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g, c = /\d\d?/, h = /\d{1,3}/, p = /\d{3}/, d = /\d{1,4}/, v = /[+\-]?\d{1,6}/, m = /[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i, g = /Z|[\+\-]\d\d:?\d\d/i, y = /T/i, b = /[\+\-]?\d+(\.\d{1,3})?/, w = /^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/, E = "YYYY-MM-DDTHH:mm:ssZ", S = [ [ "HH:mm:ss.S", /(T| )\d\d:\d\d:\d\d\.\d{1,3}/ ], [ "HH:mm:ss", /(T| )\d\d:\d\d:\d\d/ ], [ "HH:mm", /(T| )\d\d:\d\d/ ], [ "HH", /(T| )\d\d/ ] ], x = /([\+\-]|\d\d)/gi, T = "Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"), N = {
        Milliseconds: 1,
        Seconds: 1e3,
        Minutes: 6e4,
        Hours: 36e5,
        Days: 864e5,
        Months: 2592e6,
        Years: 31536e6
    }, C = {}, k = "DDD w W M D d".split(" "), L = "M D H h m s w W".split(" "), A = {
        M: function() {
            return this.month() + 1;
        },
        MMM: function(e) {
            return this.lang().monthsShort(this, e);
        },
        MMMM: function(e) {
            return this.lang().months(this, e);
        },
        D: function() {
            return this.date();
        },
        DDD: function() {
            return this.dayOfYear();
        },
        d: function() {
            return this.day();
        },
        dd: function(e) {
            return this.lang().weekdaysMin(this, e);
        },
        ddd: function(e) {
            return this.lang().weekdaysShort(this, e);
        },
        dddd: function(e) {
            return this.lang().weekdays(this, e);
        },
        w: function() {
            return this.week();
        },
        W: function() {
            return this.isoWeek();
        },
        YY: function() {
            return j(this.year() % 100, 2);
        },
        YYYY: function() {
            return j(this.year(), 4);
        },
        YYYYY: function() {
            return j(this.year(), 5);
        },
        a: function() {
            return this.lang().meridiem(this.hours(), this.minutes(), !0);
        },
        A: function() {
            return this.lang().meridiem(this.hours(), this.minutes(), !1);
        },
        H: function() {
            return this.hours();
        },
        h: function() {
            return this.hours() % 12 || 12;
        },
        m: function() {
            return this.minutes();
        },
        s: function() {
            return this.seconds();
        },
        S: function() {
            return ~~(this.milliseconds() / 100);
        },
        SS: function() {
            return j(~~(this.milliseconds() / 10), 2);
        },
        SSS: function() {
            return j(this.milliseconds(), 3);
        },
        Z: function() {
            var e = -this.zone(), t = "+";
            return 0 > e && (e = -e, t = "-"), t + j(~~(e / 60), 2) + ":" + j(~~e % 60, 2);
        },
        ZZ: function() {
            var e = -this.zone(), t = "+";
            return 0 > e && (e = -e, t = "-"), t + j(~~(10 * e / 6), 4);
        },
        X: function() {
            return this.unix();
        }
    }; k.length; ) i = k.pop(), A[i + "o"] = M(A[i]);
    for (;L.length; ) i = L.pop(), A[i + i] = O(A[i], 2);
    for (A.DDDD = O(A.DDD, 3), _.prototype = {
        set: function(e) {
            var t, n;
            for (n in e) t = e[n], "function" == typeof t ? this[n] = t : this["_" + n] = t;
        },
        _months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
        months: function(e) {
            return this._months[e.month()];
        },
        _monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
        monthsShort: function(e) {
            return this._monthsShort[e.month()];
        },
        monthsParse: function(e) {
            var n, r, i;
            for (this._monthsParse || (this._monthsParse = []), n = 0; 12 > n; n++) if (this._monthsParse[n] || (r = t([ 2e3, n ]), 
            i = "^" + this.months(r, "") + "|^" + this.monthsShort(r, ""), this._monthsParse[n] = new RegExp(i.replace(".", ""), "i")), 
            this._monthsParse[n].test(e)) return n;
        },
        _weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
        weekdays: function(e) {
            return this._weekdays[e.day()];
        },
        _weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
        weekdaysShort: function(e) {
            return this._weekdaysShort[e.day()];
        },
        _weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
        weekdaysMin: function(e) {
            return this._weekdaysMin[e.day()];
        },
        _longDateFormat: {
            LT: "h:mm A",
            L: "MM/DD/YYYY",
            LL: "MMMM D YYYY",
            LLL: "MMMM D YYYY LT",
            LLLL: "dddd, MMMM D YYYY LT"
        },
        longDateFormat: function(e) {
            var t = this._longDateFormat[e];
            return !t && this._longDateFormat[e.toUpperCase()] && (t = this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function(e) {
                return e.slice(1);
            }), this._longDateFormat[e] = t), t;
        },
        meridiem: function(e, t, n) {
            return e > 11 ? n ? "pm" : "PM" : n ? "am" : "AM";
        },
        _calendar: {
            sameDay: "[Today at] LT",
            nextDay: "[Tomorrow at] LT",
            nextWeek: "dddd [at] LT",
            lastDay: "[Yesterday at] LT",
            lastWeek: "[last] dddd [at] LT",
            sameElse: "L"
        },
        calendar: function(e, t) {
            var n = this._calendar[e];
            return "function" == typeof n ? n.apply(t) : n;
        },
        _relativeTime: {
            future: "in %s",
            past: "%s ago",
            s: "a few seconds",
            m: "a minute",
            mm: "%d minutes",
            h: "an hour",
            hh: "%d hours",
            d: "a day",
            dd: "%d days",
            M: "a month",
            MM: "%d months",
            y: "a year",
            yy: "%d years"
        },
        relativeTime: function(e, t, n, r) {
            var i = this._relativeTime[n];
            return "function" == typeof i ? i(e, t, n, r) : i.replace(/%d/i, e);
        },
        pastFuture: function(e, t) {
            var n = this._relativeTime[e > 0 ? "future" : "past"];
            return "function" == typeof n ? n(t) : n.replace(/%s/i, t);
        },
        ordinal: function(e) {
            return this._ordinal.replace("%d", e);
        },
        _ordinal: "%d",
        preparse: function(e) {
            return e;
        },
        postformat: function(e) {
            return e;
        },
        week: function(e) {
            return tt(e, this._week.dow, this._week.doy);
        },
        _week: {
            dow: 0,
            doy: 6
        }
    }, t = function(e, t, n) {
        return nt({
            _i: e,
            _f: t,
            _l: n,
            _isUTC: !1
        });
    }, t.utc = function(e, t, n) {
        return nt({
            _useUTC: !0,
            _isUTC: !0,
            _l: n,
            _i: e,
            _f: t
        });
    }, t.unix = function(e) {
        return t(1e3 * e);
    }, t.duration = function(e, n) {
        var o, r = t.isDuration(e), i = "number" == typeof e, s = r ? e._data : i ? {} : e;
        return i && (n ? s[n] = e : s.milliseconds = e), o = new P(s), r && e.hasOwnProperty("_lang") && (o._lang = e._lang), 
        o;
    }, t.version = n, t.defaultFormat = E, t.lang = function(e, n) {
        return e ? (n ? R(e, n) : s[e] || U(e), t.duration.fn._lang = t.fn._lang = U(e), 
        void 0) : t.fn._lang._abbr;
    }, t.langData = function(e) {
        return e && e._lang && e._lang._abbr && (e = e._lang._abbr), U(e);
    }, t.isMoment = function(e) {
        return e instanceof D;
    }, t.isDuration = function(e) {
        return e instanceof P;
    }, t.fn = D.prototype = {
        clone: function() {
            return t(this);
        },
        valueOf: function() {
            return +this._d;
        },
        unix: function() {
            return Math.floor(+this._d / 1e3);
        },
        toString: function() {
            return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
        },
        toDate: function() {
            return this._d;
        },
        toJSON: function() {
            return t.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]");
        },
        toArray: function() {
            var e = this;
            return [ e.year(), e.month(), e.date(), e.hours(), e.minutes(), e.seconds(), e.milliseconds() ];
        },
        isValid: function() {
            return null == this._isValid && (this._isValid = this._a ? !q(this._a, (this._isUTC ? t.utc(this._a) : t(this._a)).toArray()) : !isNaN(this._d.getTime())), 
            !!this._isValid;
        },
        utc: function() {
            return this._isUTC = !0, this;
        },
        local: function() {
            return this._isUTC = !1, this;
        },
        format: function(e) {
            var n = X(this, e || t.defaultFormat);
            return this.lang().postformat(n);
        },
        add: function(e, n) {
            var r;
            return r = "string" == typeof e ? t.duration(+n, e) : t.duration(e, n), F(this, r, 1), 
            this;
        },
        subtract: function(e, n) {
            var r;
            return r = "string" == typeof e ? t.duration(+n, e) : t.duration(e, n), F(this, r, -1), 
            this;
        },
        diff: function(e, n, r) {
            var o, u, i = this._isUTC ? t(e).utc() : t(e).local(), s = 6e4 * (this.zone() - i.zone());
            return n && (n = n.replace(/s$/, "")), "year" === n || "month" === n ? (o = 432e5 * (this.daysInMonth() + i.daysInMonth()), 
            u = 12 * (this.year() - i.year()) + (this.month() - i.month()), u += (this - t(this).startOf("month") - (i - t(i).startOf("month"))) / o, 
            "year" === n && (u /= 12)) : (o = this - i - s, u = "second" === n ? o / 1e3 : "minute" === n ? o / 6e4 : "hour" === n ? o / 36e5 : "day" === n ? o / 864e5 : "week" === n ? o / 6048e5 : o), 
            r ? u : B(u);
        },
        from: function(e, n) {
            return t.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!n);
        },
        fromNow: function(e) {
            return this.from(t(), e);
        },
        calendar: function() {
            var e = this.diff(t().startOf("day"), "days", !0), n = -6 > e ? "sameElse" : -1 > e ? "lastWeek" : 0 > e ? "lastDay" : 1 > e ? "sameDay" : 2 > e ? "nextDay" : 7 > e ? "nextWeek" : "sameElse";
            return this.format(this.lang().calendar(n, this));
        },
        isLeapYear: function() {
            var e = this.year();
            return 0 === e % 4 && 0 !== e % 100 || 0 === e % 400;
        },
        isDST: function() {
            return this.zone() < t([ this.year() ]).zone() || this.zone() < t([ this.year(), 5 ]).zone();
        },
        day: function(e) {
            var t = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
            return null == e ? t : this.add({
                d: e - t
            });
        },
        startOf: function(e) {
            switch (e = e.replace(/s$/, "")) {
              case "year":
                this.month(0);

              case "month":
                this.date(1);

              case "week":
              case "day":
                this.hours(0);

              case "hour":
                this.minutes(0);

              case "minute":
                this.seconds(0);

              case "second":
                this.milliseconds(0);
            }
            return "week" === e && this.day(0), this;
        },
        endOf: function(e) {
            return this.startOf(e).add(e.replace(/s?$/, "s"), 1).subtract("ms", 1);
        },
        isAfter: function(e, n) {
            return n = "undefined" != typeof n ? n : "millisecond", +this.clone().startOf(n) > +t(e).startOf(n);
        },
        isBefore: function(e, n) {
            return n = "undefined" != typeof n ? n : "millisecond", +this.clone().startOf(n) < +t(e).startOf(n);
        },
        isSame: function(e, n) {
            return n = "undefined" != typeof n ? n : "millisecond", +this.clone().startOf(n) === +t(e).startOf(n);
        },
        zone: function() {
            return this._isUTC ? 0 : this._d.getTimezoneOffset();
        },
        daysInMonth: function() {
            return t.utc([ this.year(), this.month() + 1, 0 ]).date();
        },
        dayOfYear: function(e) {
            var n = r((t(this).startOf("day") - t(this).startOf("year")) / 864e5) + 1;
            return null == e ? n : this.add("d", e - n);
        },
        isoWeek: function(e) {
            var t = tt(this, 1, 4);
            return null == e ? t : this.add("d", 7 * (e - t));
        },
        week: function(e) {
            var t = this.lang().week(this);
            return null == e ? t : this.add("d", 7 * (e - t));
        },
        lang: function(t) {
            return t === e ? this._lang : (this._lang = U(t), this);
        }
    }, i = 0; i < T.length; i++) rt(T[i].toLowerCase().replace(/s$/, ""), T[i]);
    rt("year", "FullYear"), t.fn.days = t.fn.day, t.fn.weeks = t.fn.week, t.fn.isoWeeks = t.fn.isoWeek, 
    t.duration.fn = P.prototype = {
        weeks: function() {
            return B(this.days() / 7);
        },
        valueOf: function() {
            return this._milliseconds + 864e5 * this._days + 2592e6 * this._months;
        },
        humanize: function(e) {
            var t = +this, n = et(t, !e, this.lang());
            return e && (n = this.lang().pastFuture(t, n)), this.lang().postformat(n);
        },
        lang: t.fn.lang
    };
    for (i in N) N.hasOwnProperty(i) && (st(i, N[i]), it(i.toLowerCase()));
    st("Weeks", 6048e5), t.lang("en", {
        ordinal: function(e) {
            var t = e % 10, n = 1 === ~~(e % 100 / 10) ? "th" : 1 === t ? "st" : 2 === t ? "nd" : 3 === t ? "rd" : "th";
            return e + n;
        }
    }), o && (module.exports = t), "undefined" == typeof ender && (this.moment = t), 
    "function" == typeof define && define.amd && define("moment", [], function() {
        return t;
    });
}.call(this), function(a) {
    String.prototype.trim === a && (String.prototype.trim = function() {
        return this.replace(/^\s+|\s+$/g, "");
    }), Array.prototype.reduce === a && (Array.prototype.reduce = function(b) {
        if (void 0 === this || null === this) throw new TypeError();
        var f, c = Object(this), d = c.length >>> 0, e = 0;
        if ("function" != typeof b) throw new TypeError();
        if (0 == d && 1 == arguments.length) throw new TypeError();
        if (arguments.length >= 2) f = arguments[1]; else for (;;) {
            if (e in c) {
                f = c[e++];
                break;
            }
            if (++e >= d) throw new TypeError();
        }
        for (;d > e; ) e in c && (f = b.call(a, f, c[e], e, c)), e++;
        return f;
    });
}();

var Zepto = function() {
    function E(a) {
        return null == a ? String(a) : y[z.call(a)] || "object";
    }
    function F(a) {
        return "function" == E(a);
    }
    function G(a) {
        return null != a && a == a.window;
    }
    function H(a) {
        return null != a && a.nodeType == a.DOCUMENT_NODE;
    }
    function I(a) {
        return "object" == E(a);
    }
    function J(a) {
        return I(a) && !G(a) && a.__proto__ == Object.prototype;
    }
    function K(a) {
        return a instanceof Array;
    }
    function L(a) {
        return "number" == typeof a.length;
    }
    function M(a) {
        return g.call(a, function(a) {
            return null != a;
        });
    }
    function N(a) {
        return a.length > 0 ? c.fn.concat.apply([], a) : a;
    }
    function O(a) {
        return a.replace(/::/g, "/").replace(/([A-Z]+)([A-Z][a-z])/g, "$1_$2").replace(/([a-z\d])([A-Z])/g, "$1_$2").replace(/_/g, "-").toLowerCase();
    }
    function P(a) {
        return a in j ? j[a] : j[a] = new RegExp("(^|\\s)" + a + "(\\s|$)");
    }
    function Q(a, b) {
        return "number" != typeof b || l[O(a)] ? b : b + "px";
    }
    function R(a) {
        var b, c;
        return i[a] || (b = h.createElement(a), h.body.appendChild(b), c = k(b, "").getPropertyValue("display"), 
        b.parentNode.removeChild(b), "none" == c && (c = "block"), i[a] = c), i[a];
    }
    function S(a) {
        return "children" in a ? f.call(a.children) : c.map(a.childNodes, function(a) {
            return 1 == a.nodeType ? a : void 0;
        });
    }
    function T(c, d, e) {
        for (b in d) e && (J(d[b]) || K(d[b])) ? (J(d[b]) && !J(c[b]) && (c[b] = {}), K(d[b]) && !K(c[b]) && (c[b] = []), 
        T(c[b], d[b], e)) : d[b] !== a && (c[b] = d[b]);
    }
    function U(b, d) {
        return d === a ? c(b) : c(b).filter(d);
    }
    function V(a, b, c, d) {
        return F(b) ? b.call(a, c, d) : b;
    }
    function W(a, b, c) {
        null == c ? a.removeAttribute(b) : a.setAttribute(b, c);
    }
    function X(b, c) {
        var d = b.className, e = d && d.baseVal !== a;
        return c === a ? e ? d.baseVal : d : (e ? d.baseVal = c : b.className = c, void 0);
    }
    function Y(a) {
        var b;
        try {
            return a ? "true" == a || ("false" == a ? !1 : "null" == a ? null : isNaN(b = Number(a)) ? /^[\[\{]/.test(a) ? c.parseJSON(a) : a : b) : a;
        } catch (d) {
            return a;
        }
    }
    function Z(a, b) {
        b(a);
        for (var c in a.childNodes) Z(a.childNodes[c], b);
    }
    var a, b, c, d, B, C, e = [], f = e.slice, g = e.filter, h = window.document, i = {}, j = {}, k = h.defaultView.getComputedStyle, l = {
        "column-count": 1,
        columns: 1,
        "font-weight": 1,
        "line-height": 1,
        opacity: 1,
        "z-index": 1,
        zoom: 1
    }, m = /^\s*<(\w+|!)[^>]*>/, n = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, o = /^(?:body|html)$/i, p = [ "val", "css", "html", "text", "data", "width", "height", "offset" ], q = [ "after", "prepend", "before", "append" ], r = h.createElement("table"), s = h.createElement("tr"), t = {
        tr: h.createElement("tbody"),
        tbody: r,
        thead: r,
        tfoot: r,
        td: s,
        th: s,
        "*": h.createElement("div")
    }, u = /complete|loaded|interactive/, v = /^\.([\w-]+)$/, w = /^#([\w-]*)$/, x = /^[\w-]+$/, y = {}, z = y.toString, A = {}, D = h.createElement("div");
    return A.matches = function(a, b) {
        if (!a || 1 !== a.nodeType) return !1;
        var c = a.webkitMatchesSelector || a.mozMatchesSelector || a.oMatchesSelector || a.matchesSelector;
        if (c) return c.call(a, b);
        var d, e = a.parentNode, f = !e;
        return f && (e = D).appendChild(a), d = ~A.qsa(e, b).indexOf(a), f && D.removeChild(a), 
        d;
    }, B = function(a) {
        return a.replace(/-+(.)?/g, function(a, b) {
            return b ? b.toUpperCase() : "";
        });
    }, C = function(a) {
        return g.call(a, function(b, c) {
            return a.indexOf(b) == c;
        });
    }, A.fragment = function(b, d, e) {
        b.replace && (b = b.replace(n, "<$1></$2>")), d === a && (d = m.test(b) && RegExp.$1), 
        d in t || (d = "*");
        var g, h, i = t[d];
        return i.innerHTML = "" + b, h = c.each(f.call(i.childNodes), function() {
            i.removeChild(this);
        }), J(e) && (g = c(h), c.each(e, function(a, b) {
            p.indexOf(a) > -1 ? g[a](b) : g.attr(a, b);
        })), h;
    }, A.Z = function(a, b) {
        return a = a || [], a.__proto__ = c.fn, a.selector = b || "", a;
    }, A.isZ = function(a) {
        return a instanceof A.Z;
    }, A.init = function(b, d) {
        if (!b) return A.Z();
        if (F(b)) return c(h).ready(b);
        if (A.isZ(b)) return b;
        var e;
        if (K(b)) e = M(b); else if (I(b)) e = [ J(b) ? c.extend({}, b) : b ], b = null; else if (m.test(b)) e = A.fragment(b.trim(), RegExp.$1, d), 
        b = null; else {
            if (d !== a) return c(d).find(b);
            e = A.qsa(h, b);
        }
        return A.Z(e, b);
    }, c = function(a, b) {
        return A.init(a, b);
    }, c.extend = function(a) {
        var b, c = f.call(arguments, 1);
        return "boolean" == typeof a && (b = a, a = c.shift()), c.forEach(function(c) {
            T(a, c, b);
        }), a;
    }, A.qsa = function(a, b) {
        var c;
        return H(a) && w.test(b) ? (c = a.getElementById(RegExp.$1)) ? [ c ] : [] : 1 !== a.nodeType && 9 !== a.nodeType ? [] : f.call(v.test(b) ? a.getElementsByClassName(RegExp.$1) : x.test(b) ? a.getElementsByTagName(b) : a.querySelectorAll(b));
    }, c.contains = function(a, b) {
        return a !== b && a.contains(b);
    }, c.type = E, c.isFunction = F, c.isWindow = G, c.isArray = K, c.isPlainObject = J, 
    c.isEmptyObject = function(a) {
        var b;
        for (b in a) return !1;
        return !0;
    }, c.inArray = function(a, b, c) {
        return e.indexOf.call(b, a, c);
    }, c.camelCase = B, c.trim = function(a) {
        return a.trim();
    }, c.uuid = 0, c.support = {}, c.expr = {}, c.map = function(a, b) {
        var c, e, f, d = [];
        if (L(a)) for (e = 0; e < a.length; e++) c = b(a[e], e), null != c && d.push(c); else for (f in a) c = b(a[f], f), 
        null != c && d.push(c);
        return N(d);
    }, c.each = function(a, b) {
        var c, d;
        if (L(a)) {
            for (c = 0; c < a.length; c++) if (b.call(a[c], c, a[c]) === !1) return a;
        } else for (d in a) if (b.call(a[d], d, a[d]) === !1) return a;
        return a;
    }, c.grep = function(a, b) {
        return g.call(a, b);
    }, window.JSON && (c.parseJSON = JSON.parse), c.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(a, b) {
        y["[object " + b + "]"] = b.toLowerCase();
    }), c.fn = {
        forEach: e.forEach,
        reduce: e.reduce,
        push: e.push,
        sort: e.sort,
        indexOf: e.indexOf,
        concat: e.concat,
        map: function(a) {
            return c(c.map(this, function(b, c) {
                return a.call(b, c, b);
            }));
        },
        slice: function() {
            return c(f.apply(this, arguments));
        },
        ready: function(a) {
            return u.test(h.readyState) ? a(c) : h.addEventListener("DOMContentLoaded", function() {
                a(c);
            }, !1), this;
        },
        get: function(b) {
            return b === a ? f.call(this) : this[b >= 0 ? b : b + this.length];
        },
        toArray: function() {
            return this.get();
        },
        size: function() {
            return this.length;
        },
        remove: function() {
            return this.each(function() {
                null != this.parentNode && this.parentNode.removeChild(this);
            });
        },
        each: function(a) {
            return e.every.call(this, function(b, c) {
                return a.call(b, c, b) !== !1;
            }), this;
        },
        filter: function(a) {
            return F(a) ? this.not(this.not(a)) : c(g.call(this, function(b) {
                return A.matches(b, a);
            }));
        },
        add: function(a, b) {
            return c(C(this.concat(c(a, b))));
        },
        is: function(a) {
            return this.length > 0 && A.matches(this[0], a);
        },
        not: function(b) {
            var d = [];
            if (F(b) && b.call !== a) this.each(function(a) {
                b.call(this, a) || d.push(this);
            }); else {
                var e = "string" == typeof b ? this.filter(b) : L(b) && F(b.item) ? f.call(b) : c(b);
                this.forEach(function(a) {
                    e.indexOf(a) < 0 && d.push(a);
                });
            }
            return c(d);
        },
        has: function(a) {
            return this.filter(function() {
                return I(a) ? c.contains(this, a) : c(this).find(a).size();
            });
        },
        eq: function(a) {
            return -1 === a ? this.slice(a) : this.slice(a, +a + 1);
        },
        first: function() {
            var a = this[0];
            return a && !I(a) ? a : c(a);
        },
        last: function() {
            var a = this[this.length - 1];
            return a && !I(a) ? a : c(a);
        },
        find: function(a) {
            var b, d = this;
            return b = "object" == typeof a ? c(a).filter(function() {
                var a = this;
                return e.some.call(d, function(b) {
                    return c.contains(b, a);
                });
            }) : 1 == this.length ? c(A.qsa(this[0], a)) : this.map(function() {
                return A.qsa(this, a);
            });
        },
        closest: function(a, b) {
            var d = this[0], e = !1;
            for ("object" == typeof a && (e = c(a)); d && !(e ? e.indexOf(d) >= 0 : A.matches(d, a)); ) d = d !== b && !H(d) && d.parentNode;
            return c(d);
        },
        parents: function(a) {
            for (var b = [], d = this; d.length > 0; ) d = c.map(d, function(a) {
                return (a = a.parentNode) && !H(a) && b.indexOf(a) < 0 ? (b.push(a), a) : void 0;
            });
            return U(b, a);
        },
        parent: function(a) {
            return U(C(this.pluck("parentNode")), a);
        },
        children: function(a) {
            return U(this.map(function() {
                return S(this);
            }), a);
        },
        contents: function() {
            return this.map(function() {
                return f.call(this.childNodes);
            });
        },
        siblings: function(a) {
            return U(this.map(function(a, b) {
                return g.call(S(b.parentNode), function(a) {
                    return a !== b;
                });
            }), a);
        },
        empty: function() {
            return this.each(function() {
                this.innerHTML = "";
            });
        },
        pluck: function(a) {
            return c.map(this, function(b) {
                return b[a];
            });
        },
        show: function() {
            return this.each(function() {
                "none" == this.style.display && (this.style.display = null), "none" == k(this, "").getPropertyValue("display") && (this.style.display = R(this.nodeName));
            });
        },
        replaceWith: function(a) {
            return this.before(a).remove();
        },
        wrap: function(a) {
            var b = F(a);
            if (this[0] && !b) var d = c(a).get(0), e = d.parentNode || this.length > 1;
            return this.each(function(f) {
                c(this).wrapAll(b ? a.call(this, f) : e ? d.cloneNode(!0) : d);
            });
        },
        wrapAll: function(a) {
            if (this[0]) {
                c(this[0]).before(a = c(a));
                for (var b; (b = a.children()).length; ) a = b.first();
                c(a).append(this);
            }
            return this;
        },
        wrapInner: function(a) {
            var b = F(a);
            return this.each(function(d) {
                var e = c(this), f = e.contents(), g = b ? a.call(this, d) : a;
                f.length ? f.wrapAll(g) : e.append(g);
            });
        },
        unwrap: function() {
            return this.parent().each(function() {
                c(this).replaceWith(c(this).children());
            }), this;
        },
        clone: function() {
            return this.map(function() {
                return this.cloneNode(!0);
            });
        },
        hide: function() {
            return this.css("display", "none");
        },
        toggle: function(b) {
            return this.each(function() {
                var d = c(this);
                (b === a ? "none" == d.css("display") : b) ? d.show() : d.hide();
            });
        },
        prev: function(a) {
            return c(this.pluck("previousElementSibling")).filter(a || "*");
        },
        next: function(a) {
            return c(this.pluck("nextElementSibling")).filter(a || "*");
        },
        html: function(b) {
            return b === a ? this.length > 0 ? this[0].innerHTML : null : this.each(function(a) {
                var d = this.innerHTML;
                c(this).empty().append(V(this, b, a, d));
            });
        },
        text: function(b) {
            return b === a ? this.length > 0 ? this[0].textContent : null : this.each(function() {
                this.textContent = b;
            });
        },
        attr: function(c, d) {
            var e;
            return "string" == typeof c && d === a ? 0 == this.length || 1 !== this[0].nodeType ? a : "value" == c && "INPUT" == this[0].nodeName ? this.val() : !(e = this[0].getAttribute(c)) && c in this[0] ? this[0][c] : e : this.each(function(a) {
                if (1 === this.nodeType) if (I(c)) for (b in c) W(this, b, c[b]); else W(this, c, V(this, d, a, this.getAttribute(c)));
            });
        },
        removeAttr: function(a) {
            return this.each(function() {
                1 === this.nodeType && W(this, a);
            });
        },
        prop: function(b, c) {
            return c === a ? this[0] && this[0][b] : this.each(function(a) {
                this[b] = V(this, c, a, this[b]);
            });
        },
        data: function(b, c) {
            var d = this.attr("data-" + O(b), c);
            return null !== d ? Y(d) : a;
        },
        val: function(b) {
            return b === a ? this[0] && (this[0].multiple ? c(this[0]).find("option").filter(function() {
                return this.selected;
            }).pluck("value") : this[0].value) : this.each(function(a) {
                this.value = V(this, b, a, this.value);
            });
        },
        offset: function(a) {
            if (a) return this.each(function(b) {
                var d = c(this), e = V(this, a, b, d.offset()), f = d.offsetParent().offset(), g = {
                    top: e.top - f.top,
                    left: e.left - f.left
                };
                "static" == d.css("position") && (g.position = "relative"), d.css(g);
            });
            if (0 == this.length) return null;
            var b = this[0].getBoundingClientRect();
            return {
                left: b.left + window.pageXOffset,
                top: b.top + window.pageYOffset,
                width: Math.round(b.width),
                height: Math.round(b.height)
            };
        },
        css: function(a, c) {
            if (arguments.length < 2 && "string" == typeof a) return this[0] && (this[0].style[B(a)] || k(this[0], "").getPropertyValue(a));
            var d = "";
            if ("string" == E(a)) c || 0 === c ? d = O(a) + ":" + Q(a, c) : this.each(function() {
                this.style.removeProperty(O(a));
            }); else for (b in a) a[b] || 0 === a[b] ? d += O(b) + ":" + Q(b, a[b]) + ";" : this.each(function() {
                this.style.removeProperty(O(b));
            });
            return this.each(function() {
                this.style.cssText += ";" + d;
            });
        },
        index: function(a) {
            return a ? this.indexOf(c(a)[0]) : this.parent().children().indexOf(this[0]);
        },
        hasClass: function(a) {
            return e.some.call(this, function(a) {
                return this.test(X(a));
            }, P(a));
        },
        addClass: function(a) {
            return this.each(function(b) {
                d = [];
                var e = X(this), f = V(this, a, b, e);
                f.split(/\s+/g).forEach(function(a) {
                    c(this).hasClass(a) || d.push(a);
                }, this), d.length && X(this, e + (e ? " " : "") + d.join(" "));
            });
        },
        removeClass: function(b) {
            return this.each(function(c) {
                return b === a ? X(this, "") : (d = X(this), V(this, b, c, d).split(/\s+/g).forEach(function(a) {
                    d = d.replace(P(a), " ");
                }), X(this, d.trim()), void 0);
            });
        },
        toggleClass: function(b, d) {
            return this.each(function(e) {
                var f = c(this), g = V(this, b, e, X(this));
                g.split(/\s+/g).forEach(function(b) {
                    (d === a ? !f.hasClass(b) : d) ? f.addClass(b) : f.removeClass(b);
                });
            });
        },
        scrollTop: function() {
            return this.length ? "scrollTop" in this[0] ? this[0].scrollTop : this[0].scrollY : void 0;
        },
        position: function() {
            if (this.length) {
                var a = this[0], b = this.offsetParent(), d = this.offset(), e = o.test(b[0].nodeName) ? {
                    top: 0,
                    left: 0
                } : b.offset();
                return d.top -= parseFloat(c(a).css("margin-top")) || 0, d.left -= parseFloat(c(a).css("margin-left")) || 0, 
                e.top += parseFloat(c(b[0]).css("border-top-width")) || 0, e.left += parseFloat(c(b[0]).css("border-left-width")) || 0, 
                {
                    top: d.top - e.top,
                    left: d.left - e.left
                };
            }
        },
        offsetParent: function() {
            return this.map(function() {
                for (var a = this.offsetParent || h.body; a && !o.test(a.nodeName) && "static" == c(a).css("position"); ) a = a.offsetParent;
                return a;
            });
        }
    }, c.fn.detach = c.fn.remove, [ "width", "height" ].forEach(function(b) {
        c.fn[b] = function(d) {
            var e, f = this[0], g = b.replace(/./, function(a) {
                return a[0].toUpperCase();
            });
            return d === a ? G(f) ? f["inner" + g] : H(f) ? f.documentElement["offset" + g] : (e = this.offset()) && e[b] : this.each(function(a) {
                f = c(this), f.css(b, V(this, d, a, f[b]()));
            });
        };
    }), q.forEach(function(a, b) {
        var d = b % 2;
        c.fn[a] = function() {
            var a, f, e = c.map(arguments, function(b) {
                return a = E(b), "object" == a || "array" == a || null == b ? b : A.fragment(b);
            }), g = this.length > 1;
            return e.length < 1 ? this : this.each(function(a, h) {
                f = d ? h : h.parentNode, h = 0 == b ? h.nextSibling : 1 == b ? h.firstChild : 2 == b ? h : null, 
                e.forEach(function(a) {
                    if (g) a = a.cloneNode(!0); else if (!f) return c(a).remove();
                    Z(f.insertBefore(a, h), function(a) {
                        null != a.nodeName && "SCRIPT" === a.nodeName.toUpperCase() && (!a.type || "text/javascript" === a.type) && !a.src && window.eval.call(window, a.innerHTML);
                    });
                });
            });
        }, c.fn[d ? a + "To" : "insert" + (b ? "Before" : "After")] = function(b) {
            return c(b)[a](this), this;
        };
    }), A.Z.prototype = c.fn, A.uniq = C, A.deserializeValue = Y, c.zepto = A, c;
}();

window.Zepto = Zepto, "$" in window || (window.$ = Zepto), function(a) {
    function b(a) {
        var b = this.os = {}, c = this.browser = {}, d = a.match(/WebKit\/([\d.]+)/), e = a.match(/(Android)\s+([\d.]+)/), f = a.match(/(iPad).*OS\s([\d_]+)/), g = !f && a.match(/(iPhone\sOS)\s([\d_]+)/), h = a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/), i = h && a.match(/TouchPad/), j = a.match(/Kindle\/([\d.]+)/), k = a.match(/Silk\/([\d._]+)/), l = a.match(/(BlackBerry).*Version\/([\d.]+)/), m = a.match(/(BB10).*Version\/([\d.]+)/), n = a.match(/(RIM\sTablet\sOS)\s([\d.]+)/), o = a.match(/PlayBook/), p = a.match(/Chrome\/([\d.]+)/) || a.match(/CriOS\/([\d.]+)/), q = a.match(/Firefox\/([\d.]+)/);
        (c.webkit = !!d) && (c.version = d[1]), e && (b.android = !0, b.version = e[2]), 
        g && (b.ios = b.iphone = !0, b.version = g[2].replace(/_/g, ".")), f && (b.ios = b.ipad = !0, 
        b.version = f[2].replace(/_/g, ".")), h && (b.webos = !0, b.version = h[2]), i && (b.touchpad = !0), 
        l && (b.blackberry = !0, b.version = l[2]), m && (b.bb10 = !0, b.version = m[2]), 
        n && (b.rimtabletos = !0, b.version = n[2]), o && (c.playbook = !0), j && (b.kindle = !0, 
        b.version = j[1]), k && (c.silk = !0, c.version = k[1]), !k && b.android && a.match(/Kindle Fire/) && (c.silk = !0), 
        p && (c.chrome = !0, c.version = p[1]), q && (c.firefox = !0, c.version = q[1]), 
        b.tablet = !!(f || o || e && !a.match(/Mobile/) || q && a.match(/Tablet/)), b.phone = !b.tablet && !!(e || g || h || l || m || p && a.match(/Android/) || p && a.match(/CriOS\/([\d.]+)/) || q && a.match(/Mobile/));
    }
    b.call(a, navigator.userAgent), a.__detect = b;
}(Zepto), function(a) {
    function g(a) {
        return a._zid || (a._zid = d++);
    }
    function h(a, b, d, e) {
        if (b = i(b), b.ns) var f = j(b.ns);
        return (c[g(a)] || []).filter(function(a) {
            return !(!a || b.e && a.e != b.e || b.ns && !f.test(a.ns) || d && g(a.fn) !== g(d) || e && a.sel != e);
        });
    }
    function i(a) {
        var b = ("" + a).split(".");
        return {
            e: b[0],
            ns: b.slice(1).sort().join(" ")
        };
    }
    function j(a) {
        return new RegExp("(?:^| )" + a.replace(" ", " .* ?") + "(?: |$)");
    }
    function k(b, c, d) {
        "string" != a.type(b) ? a.each(b, d) : b.split(/\s/).forEach(function(a) {
            d(a, c);
        });
    }
    function l(a, b) {
        return a.del && ("focus" == a.e || "blur" == a.e) || !!b;
    }
    function m(a) {
        return f[a] || a;
    }
    function n(b, d, e, h, j, n) {
        var o = g(b), p = c[o] || (c[o] = []);
        k(d, e, function(c, d) {
            var e = i(c);
            e.fn = d, e.sel = h, e.e in f && (d = function(b) {
                var c = b.relatedTarget;
                return !c || c !== this && !a.contains(this, c) ? e.fn.apply(this, arguments) : void 0;
            }), e.del = j && j(d, c);
            var g = e.del || d;
            e.proxy = function(a) {
                var c = g.apply(b, [ a ].concat(a.data));
                return c === !1 && (a.preventDefault(), a.stopPropagation()), c;
            }, e.i = p.length, p.push(e), b.addEventListener(m(e.e), e.proxy, l(e, n));
        });
    }
    function o(a, b, d, e, f) {
        var i = g(a);
        k(b || "", d, function(b, d) {
            h(a, b, d, e).forEach(function(b) {
                delete c[i][b.i], a.removeEventListener(m(b.e), b.proxy, l(b, f));
            });
        });
    }
    function t(b) {
        var c, d = {
            originalEvent: b
        };
        for (c in b) !r.test(c) && void 0 !== b[c] && (d[c] = b[c]);
        return a.each(s, function(a, c) {
            d[a] = function() {
                return this[c] = p, b[a].apply(b, arguments);
            }, d[c] = q;
        }), d;
    }
    function u(a) {
        if (!("defaultPrevented" in a)) {
            a.defaultPrevented = !1;
            var b = a.preventDefault;
            a.preventDefault = function() {
                this.defaultPrevented = !0, b.call(this);
            };
        }
    }
    var c = (a.zepto.qsa, {}), d = 1, e = {}, f = {
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    };
    e.click = e.mousedown = e.mouseup = e.mousemove = "MouseEvents", a.event = {
        add: n,
        remove: o
    }, a.proxy = function(b, c) {
        if (a.isFunction(b)) {
            var d = function() {
                return b.apply(c, arguments);
            };
            return d._zid = g(b), d;
        }
        if ("string" == typeof c) return a.proxy(b[c], b);
        throw new TypeError("expected function");
    }, a.fn.bind = function(a, b) {
        return this.each(function() {
            n(this, a, b);
        });
    }, a.fn.unbind = function(a, b) {
        return this.each(function() {
            o(this, a, b);
        });
    }, a.fn.one = function(a, b) {
        return this.each(function(c, d) {
            n(this, a, b, null, function(a, b) {
                return function() {
                    var c = a.apply(d, arguments);
                    return o(d, b, a), c;
                };
            });
        });
    };
    var p = function() {
        return !0;
    }, q = function() {
        return !1;
    }, r = /^([A-Z]|layer[XY]$)/, s = {
        preventDefault: "isDefaultPrevented",
        stopImmediatePropagation: "isImmediatePropagationStopped",
        stopPropagation: "isPropagationStopped"
    };
    a.fn.delegate = function(b, c, d) {
        return this.each(function(e, f) {
            n(f, c, d, b, function(c) {
                return function(d) {
                    var e, g = a(d.target).closest(b, f).get(0);
                    return g ? (e = a.extend(t(d), {
                        currentTarget: g,
                        liveFired: f
                    }), c.apply(g, [ e ].concat([].slice.call(arguments, 1)))) : void 0;
                };
            });
        });
    }, a.fn.undelegate = function(a, b, c) {
        return this.each(function() {
            o(this, b, c, a);
        });
    }, a.fn.live = function(b, c) {
        return a(document.body).delegate(this.selector, b, c), this;
    }, a.fn.die = function(b, c) {
        return a(document.body).undelegate(this.selector, b, c), this;
    }, a.fn.on = function(b, c, d) {
        return !c || a.isFunction(c) ? this.bind(b, c || d) : this.delegate(c, b, d);
    }, a.fn.off = function(b, c, d) {
        return !c || a.isFunction(c) ? this.unbind(b, c || d) : this.undelegate(c, b, d);
    }, a.fn.trigger = function(b, c) {
        return ("string" == typeof b || a.isPlainObject(b)) && (b = a.Event(b)), u(b), b.data = c, 
        this.each(function() {
            "dispatchEvent" in this && this.dispatchEvent(b);
        });
    }, a.fn.triggerHandler = function(b, c) {
        var d, e;
        return this.each(function(f, g) {
            d = t("string" == typeof b ? a.Event(b) : b), d.data = c, d.target = g, a.each(h(g, b.type || b), function(a, b) {
                return e = b.proxy(d), d.isImmediatePropagationStopped() ? !1 : void 0;
            });
        }), e;
    }, "focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(b) {
        a.fn[b] = function(a) {
            return a ? this.bind(b, a) : this.trigger(b);
        };
    }), [ "focus", "blur" ].forEach(function(b) {
        a.fn[b] = function(a) {
            return a ? this.bind(b, a) : this.each(function() {
                try {
                    this[b]();
                } catch (a) {}
            }), this;
        };
    }), a.Event = function(a, b) {
        "string" != typeof a && (b = a, a = b.type);
        var c = document.createEvent(e[a] || "Events"), d = !0;
        if (b) for (var f in b) "bubbles" == f ? d = !!b[f] : c[f] = b[f];
        return c.initEvent(a, d, !0, null, null, null, null, null, null, null, null, null, null, null, null), 
        c.isDefaultPrevented = function() {
            return this.defaultPrevented;
        }, c;
    };
}(Zepto), function($) {
    function triggerAndReturn(a, b, c) {
        var d = $.Event(b);
        return $(a).trigger(d, c), !d.defaultPrevented;
    }
    function triggerGlobal(a, b, c, d) {
        return a.global ? triggerAndReturn(b || document, c, d) : void 0;
    }
    function ajaxStart(a) {
        a.global && 0 === $.active++ && triggerGlobal(a, null, "ajaxStart");
    }
    function ajaxStop(a) {
        a.global && !--$.active && triggerGlobal(a, null, "ajaxStop");
    }
    function ajaxBeforeSend(a, b) {
        var c = b.context;
        return b.beforeSend.call(c, a, b) === !1 || triggerGlobal(b, c, "ajaxBeforeSend", [ a, b ]) === !1 ? !1 : (triggerGlobal(b, c, "ajaxSend", [ a, b ]), 
        void 0);
    }
    function ajaxSuccess(a, b, c) {
        var d = c.context, e = "success";
        c.success.call(d, a, e, b), triggerGlobal(c, d, "ajaxSuccess", [ b, c, a ]), ajaxComplete(e, b, c);
    }
    function ajaxError(a, b, c, d) {
        var e = d.context;
        d.error.call(e, c, b, a), triggerGlobal(d, e, "ajaxError", [ c, d, a ]), ajaxComplete(b, c, d);
    }
    function ajaxComplete(a, b, c) {
        var d = c.context;
        c.complete.call(d, b, a), triggerGlobal(c, d, "ajaxComplete", [ b, c ]), ajaxStop(c);
    }
    function empty() {}
    function mimeToDataType(a) {
        return a && (a = a.split(";", 2)[0]), a && (a == htmlType ? "html" : a == jsonType ? "json" : scriptTypeRE.test(a) ? "script" : xmlTypeRE.test(a) && "xml") || "text";
    }
    function appendQuery(a, b) {
        return (a + "&" + b).replace(/[&?]{1,2}/, "?");
    }
    function serializeData(a) {
        a.processData && a.data && "string" != $.type(a.data) && (a.data = $.param(a.data, a.traditional)), 
        a.data && (!a.type || "GET" == a.type.toUpperCase()) && (a.url = appendQuery(a.url, a.data));
    }
    function parseArguments(a, b, c, d) {
        var e = !$.isFunction(b);
        return {
            url: a,
            data: e ? b : void 0,
            success: e ? $.isFunction(c) ? c : void 0 : b,
            dataType: e ? d || c : c
        };
    }
    function serialize(a, b, c, d) {
        var e, f = $.isArray(b);
        $.each(b, function(b, g) {
            e = $.type(g), d && (b = c ? d : d + "[" + (f ? "" : b) + "]"), !d && f ? a.add(g.name, g.value) : "array" == e || !c && "object" == e ? serialize(a, g, c, b) : a.add(b, g);
        });
    }
    var key, name, jsonpID = 0, document = window.document, rscript = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, scriptTypeRE = /^(?:text|application)\/javascript/i, xmlTypeRE = /^(?:text|application)\/xml/i, jsonType = "application/json", htmlType = "text/html", blankRE = /^\s*$/;
    $.active = 0, $.ajaxJSONP = function(a) {
        if ("type" in a) {
            var g, b = "jsonp" + ++jsonpID, c = document.createElement("script"), d = function() {
                clearTimeout(g), $(c).remove(), delete window[b];
            }, e = function(c) {
                d(), c && "timeout" != c || (window[b] = empty), ajaxError(null, c || "abort", f, a);
            }, f = {
                abort: e
            };
            return ajaxBeforeSend(f, a) === !1 ? (e("abort"), !1) : (window[b] = function(b) {
                d(), ajaxSuccess(b, f, a);
            }, c.onerror = function() {
                e("error");
            }, c.src = a.url.replace(/=\?/, "=" + b), $("head").append(c), a.timeout > 0 && (g = setTimeout(function() {
                e("timeout");
            }, a.timeout)), f);
        }
        return $.ajax(a);
    }, $.ajaxSettings = {
        type: "GET",
        beforeSend: empty,
        success: empty,
        error: empty,
        complete: empty,
        context: null,
        global: !0,
        xhr: function() {
            return new window.XMLHttpRequest();
        },
        accepts: {
            script: "text/javascript, application/javascript",
            json: jsonType,
            xml: "application/xml, text/xml",
            html: htmlType,
            text: "text/plain"
        },
        crossDomain: !1,
        timeout: 0,
        processData: !0,
        cache: !0
    }, $.ajax = function(options) {
        var settings = $.extend({}, options || {});
        for (key in $.ajaxSettings) void 0 === settings[key] && (settings[key] = $.ajaxSettings[key]);
        ajaxStart(settings), settings.crossDomain || (settings.crossDomain = /^([\w-]+:)?\/\/([^\/]+)/.test(settings.url) && RegExp.$2 != window.location.host), 
        settings.url || (settings.url = window.location.toString()), serializeData(settings), 
        settings.cache === !1 && (settings.url = appendQuery(settings.url, "_=" + Date.now()));
        var dataType = settings.dataType, hasPlaceholder = /=\?/.test(settings.url);
        if ("jsonp" == dataType || hasPlaceholder) return hasPlaceholder || (settings.url = appendQuery(settings.url, "callback=?")), 
        $.ajaxJSONP(settings);
        var abortTimeout, mime = settings.accepts[dataType], baseHeaders = {}, protocol = /^([\w-]+:)\/\//.test(settings.url) ? RegExp.$1 : window.location.protocol, xhr = settings.xhr();
        settings.crossDomain || (baseHeaders["X-Requested-With"] = "XMLHttpRequest"), mime && (baseHeaders.Accept = mime, 
        mime.indexOf(",") > -1 && (mime = mime.split(",", 2)[0]), xhr.overrideMimeType && xhr.overrideMimeType(mime)), 
        (settings.contentType || settings.contentType !== !1 && settings.data && "GET" != settings.type.toUpperCase()) && (baseHeaders["Content-Type"] = settings.contentType || "application/x-www-form-urlencoded"), 
        settings.headers = $.extend(baseHeaders, settings.headers || {}), xhr.onreadystatechange = function() {
            if (4 == xhr.readyState) {
                xhr.onreadystatechange = empty, clearTimeout(abortTimeout);
                var result, error = !1;
                if (xhr.status >= 200 && xhr.status < 300 || 304 == xhr.status || 0 == xhr.status && "file:" == protocol) {
                    dataType = dataType || mimeToDataType(xhr.getResponseHeader("content-type")), result = xhr.responseText;
                    try {
                        "script" == dataType ? (1, eval)(result) : "xml" == dataType ? result = xhr.responseXML : "json" == dataType && (result = blankRE.test(result) ? null : $.parseJSON(result));
                    } catch (e) {
                        error = e;
                    }
                    error ? ajaxError(error, "parsererror", xhr, settings) : ajaxSuccess(result, xhr, settings);
                } else ajaxError(null, xhr.status ? "error" : "abort", xhr, settings);
            }
        };
        var async = "async" in settings ? settings.async : !0;
        xhr.open(settings.type, settings.url, async);
        for (name in settings.headers) xhr.setRequestHeader(name, settings.headers[name]);
        return ajaxBeforeSend(xhr, settings) === !1 ? (xhr.abort(), !1) : (settings.timeout > 0 && (abortTimeout = setTimeout(function() {
            xhr.onreadystatechange = empty, xhr.abort(), ajaxError(null, "timeout", xhr, settings);
        }, settings.timeout)), xhr.send(settings.data ? settings.data : null), xhr);
    }, $.get = function() {
        return $.ajax(parseArguments.apply(null, arguments));
    }, $.post = function() {
        var e = parseArguments.apply(null, arguments);
        return e.type = "POST", $.ajax(e);
    }, $.getJSON = function() {
        var d = parseArguments.apply(null, arguments);
        return d.dataType = "json", $.ajax(d);
    }, $.fn.load = function(a, b, c) {
        if (!this.length) return this;
        var f, d = this, e = a.split(/\s/), g = parseArguments(a, b, c), h = g.success;
        return e.length > 1 && (g.url = e[0], f = e[1]), g.success = function(a) {
            d.html(f ? $("<div>").html(a.replace(rscript, "")).find(f) : a), h && h.apply(d, arguments);
        }, $.ajax(g), this;
    };
    var escape = encodeURIComponent;
    $.param = function(a, b) {
        var c = [];
        return c.add = function(a, b) {
            this.push(escape(a) + "=" + escape(b));
        }, serialize(c, a, b), c.join("&").replace(/%20/g, "+");
    };
}(Zepto), function(a) {
    a.fn.serializeArray = function() {
        var c, b = [];
        return a(Array.prototype.slice.call(this.get(0).elements)).each(function() {
            c = a(this);
            var d = c.attr("type");
            "fieldset" != this.nodeName.toLowerCase() && !this.disabled && "submit" != d && "reset" != d && "button" != d && ("radio" != d && "checkbox" != d || this.checked) && b.push({
                name: c.attr("name"),
                value: c.val()
            });
        }), b;
    }, a.fn.serialize = function() {
        var a = [];
        return this.serializeArray().forEach(function(b) {
            a.push(encodeURIComponent(b.name) + "=" + encodeURIComponent(b.value));
        }), a.join("&");
    }, a.fn.submit = function(b) {
        if (b) this.bind("submit", b); else if (this.length) {
            var c = a.Event("submit");
            this.eq(0).trigger(c), c.defaultPrevented || this.get(0).submit();
        }
        return this;
    };
}(Zepto), function(a, b) {
    function s(a) {
        return t(a.replace(/([a-z])([A-Z])/, "$1-$2"));
    }
    function t(a) {
        return a.toLowerCase();
    }
    function u(a) {
        return d ? d + a : t(a);
    }
    var d, k, l, m, n, o, p, q, c = "", g = {
        Webkit: "webkit",
        Moz: "",
        O: "o",
        ms: "MS"
    }, h = window.document, i = h.createElement("div"), j = /^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i, r = {};
    a.each(g, function(a, e) {
        return i.style[a + "TransitionProperty"] !== b ? (c = "-" + t(a) + "-", d = e, !1) : void 0;
    }), k = c + "transform", r[l = c + "transition-property"] = r[m = c + "transition-duration"] = r[n = c + "transition-timing-function"] = r[o = c + "animation-name"] = r[p = c + "animation-duration"] = r[q = c + "animation-timing-function"] = "", 
    a.fx = {
        off: d === b && i.style.transitionProperty === b,
        speeds: {
            _default: 400,
            fast: 200,
            slow: 600
        },
        cssPrefix: c,
        transitionEnd: u("TransitionEnd"),
        animationEnd: u("AnimationEnd")
    }, a.fn.animate = function(b, c, d, e) {
        return a.isPlainObject(c) && (d = c.easing, e = c.complete, c = c.duration), c && (c = ("number" == typeof c ? c : a.fx.speeds[c] || a.fx.speeds._default) / 1e3), 
        this.anim(b, c, d, e);
    }, a.fn.anim = function(c, d, e, f) {
        var g, i, v, h = {}, t = "", u = this, w = a.fx.transitionEnd;
        if (d === b && (d = .4), a.fx.off && (d = 0), "string" == typeof c) h[o] = c, h[p] = d + "s", 
        h[q] = e || "linear", w = a.fx.animationEnd; else {
            i = [];
            for (g in c) j.test(g) ? t += g + "(" + c[g] + ") " : (h[g] = c[g], i.push(s(g)));
            t && (h[k] = t, i.push(k)), d > 0 && "object" == typeof c && (h[l] = i.join(", "), 
            h[m] = d + "s", h[n] = e || "linear");
        }
        return v = function(b) {
            if ("undefined" != typeof b) {
                if (b.target !== b.currentTarget) return;
                a(b.target).unbind(w, v);
            }
            a(this).css(r), f && f.call(this);
        }, d > 0 && this.bind(w, v), this.size() && this.get(0).clientLeft, this.css(h), 
        0 >= d && setTimeout(function() {
            u.each(function() {
                v.call(this);
            });
        }, 0), this;
    }, i = null;
}(Zepto), function($) {
    var interpolate = function(source, target, shift) {
        return source + (target - source) * shift;
    }, easing = function(pos) {
        return -Math.cos(pos * Math.PI) / 2 + .5;
    }, scroll = function(endY, duration, callback) {
        if (endY = "undefined" != typeof endY ? endY : $.os.android ? 1 : 0, duration = "undefined" != typeof duration ? duration : 200, 
        0 === duration) return window.scrollTo(0, endY), "function" == typeof callback && callback(), 
        void 0;
        var startY = window.pageYOffset, startT = Date.now(), finishT = startT + duration, animate = function() {
            var now = Date.now(), shift = now > finishT ? 1 : (now - startT) / duration;
            window.scrollTo(0, interpolate(startY, endY, easing(shift))), finishT > now ? setTimeout(animate, 15) : "function" == typeof callback && callback();
        };
        animate();
    }, scrollNode = function(endY, duration, callback) {
        if (endY = "undefined" != typeof endY ? endY : 0, duration = "undefined" != typeof duration ? duration : 200, 
        0 === duration) return this.scrollTop = endY, "function" == typeof callback && callback(), 
        void 0;
        var startY = this.scrollTop, startT = Date.now(), finishT = startT + duration, _this = this, animate = function() {
            var now = Date.now(), shift = now > finishT ? 1 : (now - startT) / duration;
            _this.scrollTop = interpolate(startY, endY, easing(shift)), finishT > now ? setTimeout(animate, 15) : "function" == typeof callback && callback();
        };
        animate();
    };
    $.scrollTo = scroll, $.fn.scrollTo = function() {
        if (this.length) {
            var args = arguments;
            this.forEach(function(elem) {
                scrollNode.apply(elem, args);
            });
        }
    };
}(Zepto), this.reedify = this.reedify || {}, this.reedify.templates = this.reedify.templates || {}, 
this.reedify.templates.feed_item = Handlebars.template(function(Handlebars, depth0, helpers, partials, data) {
    function program1() {
        return "unread";
    }
    function program3() {
        return "starred";
    }
    function program5(depth0, data) {
        var stack1, buffer = "";
        return buffer += "<div class='author'>", (stack1 = helpers.author) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.author, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + "</div>";
    }
    this.compilerInfo = [ 4, ">= 1.0.0" ], helpers = this.merge(helpers, Handlebars.helpers), 
    data = data || {};
    var stack1, stack2, options, buffer = "", functionType = "function", escapeExpression = this.escapeExpression, self = this, helperMissing = helpers.helperMissing;
    return buffer += "<div class='item ", stack1 = helpers.unless.call(depth0, depth0.read, {
        hash: {},
        inverse: self.noop,
        fn: self.program(1, program1, data),
        data: data
    }), (stack1 || 0 === stack1) && (buffer += stack1), buffer += " ", stack1 = helpers["if"].call(depth0, depth0.starred, {
        hash: {},
        inverse: self.noop,
        fn: self.program(3, program3, data),
        data: data
    }), (stack1 || 0 === stack1) && (buffer += stack1), buffer += "' >\n	<header>\n		<div class='status'>\n			<div class='star-status'></div>\n			<div class='read-status'></div>\n		</div>\n		\n		<div class='meta'>\n			\n			<a class='reedControl feed-name' href='/feed/", 
    (stack1 = helpers.feed_id) ? stack1 = stack1.call(depth0, {
        hash: {},
        data: data
    }) : (stack1 = depth0.feed_id, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
    buffer += escapeExpression(stack1) + "' rel='", (stack1 = helpers.feed_id) ? stack1 = stack1.call(depth0, {
        hash: {},
        data: data
    }) : (stack1 = depth0.feed_id, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
    buffer += escapeExpression(stack1) + "'>\n				<span class='title'>", (stack1 = helpers.feed_name) ? stack1 = stack1.call(depth0, {
        hash: {},
        data: data
    }) : (stack1 = depth0.feed_name, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
    buffer += escapeExpression(stack1) + '</span>\n				<img src="http://www.google.com/s2/favicons?domain=', 
    (stack1 = helpers.site_url) ? stack1 = stack1.call(depth0, {
        hash: {},
        data: data
    }) : (stack1 = depth0.site_url, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
    buffer += escapeExpression(stack1) + "\" alt=\"\" />\n			</a>\n\n			<div class='time'>\n				<div class='date'>\n					", 
    options = {
        hash: {},
        data: data
    }, buffer += escapeExpression((stack1 = helpers.date || depth0.date, stack1 ? stack1.call(depth0, depth0.published_at, options) : helperMissing.call(depth0, "date", depth0.published_at, options))) + "\n				</div>\n				<div class='friendly'>\n					", 
    options = {
        hash: {},
        data: data
    }, buffer += escapeExpression((stack1 = helpers.date_friendly || depth0.date_friendly, 
    stack1 ? stack1.call(depth0, depth0.published_at, options) : helperMissing.call(depth0, "date_friendly", depth0.published_at, options))) + "\n				</div>				\n			</div>\n								\n		</div>\n		\n		<div class='title'>\n			<a href=\"", 
    (stack2 = helpers.url) ? stack2 = stack2.call(depth0, {
        hash: {},
        data: data
    }) : (stack2 = depth0.url, stack2 = typeof stack2 === functionType ? stack2.apply(depth0) : stack2), 
    buffer += escapeExpression(stack2) + '" target="_blank">', (stack2 = helpers.title) ? stack2 = stack2.call(depth0, {
        hash: {},
        data: data
    }) : (stack2 = depth0.title, stack2 = typeof stack2 === functionType ? stack2.apply(depth0) : stack2), 
    buffer += escapeExpression(stack2) + "</a>\n			", stack2 = helpers["if"].call(depth0, depth0.author, {
        hash: {},
        inverse: self.noop,
        fn: self.program(5, program5, data),
        data: data
    }), (stack2 || 0 === stack2) && (buffer += stack2), buffer += "\n		</div>	\n				\n	</header>\n	<div class='content'>", 
    (stack2 = helpers.body) ? stack2 = stack2.call(depth0, {
        hash: {},
        data: data
    }) : (stack2 = depth0.body, stack2 = typeof stack2 === functionType ? stack2.apply(depth0) : stack2), 
    (stack2 || 0 === stack2) && (buffer += stack2), buffer += "</div>	\n</div>";
}), this.reedify.templates.feed_item_end = Handlebars.template(function(Handlebars, depth0, helpers, partials, data) {
    return this.compilerInfo = [ 4, ">= 1.0.0" ], helpers = this.merge(helpers, Handlebars.helpers), 
    data = data || {}, "<div class='item end' >\n	<div class='content'>\n		End of the road, bud.\n	</div>\n</div>";
}), this.reedify.templates.feed_item_list = Handlebars.template(function(Handlebars, depth0, helpers, partials, data) {
    return this.compilerInfo = [ 4, ">= 1.0.0" ], helpers = this.merge(helpers, Handlebars.helpers), 
    data = data || {}, "<div class='item-list'></div>\n<div class='loader' id='feed-loader'>\n	<span></span>\n	Loading...\n</div>";
}), this.reedify.templates.nav = Handlebars.template(function(Handlebars, depth0, helpers, partials, data) {
    return this.compilerInfo = [ 4, ">= 1.0.0" ], helpers = this.merge(helpers, Handlebars.helpers), 
    data = data || {}, "<div id='nav-container'>\n	\n	<div class='app-title'>\n		<span>Reedify</span>\n	</div>\n	\n	<nav class='types'>\n		<div class='title'>Show:</div>\n		<ul>\n			<li>\n				<a href=\"/\" class='reedControl unread'>Unread</a>\n			</li>\n			<li>\n				<a href=\"/starred\" class='reedControl starred'>Starred</a>\n			</li>\n			<li>\n				<a href=\"/all\" class='reedControl all'>All Items</a>\n			</li>\n		</ul>\n	</nav>\n	<nav class='streams'>\n		<div class='title'>\n			Stream:\n			<a href=\"#\" class='create-stream edit-stream'>+ Create</a>\n		</div>\n		<ul class='streams'>\n	\n		</ul>\n	</nav>		\n	<nav class='feeds' style=\"display:none;\">\n		<ul>\n			<li>\n				<form class='add-feed'>\n					<div class='loader'><span></span>&nbsp;</div>	\n					<input name='url' class='add-feed' type='text' placeholder='Subsribe to feed' />\n					<div class='success'>Subscribed</div>\n					<div class='error'>Failed to subscribe to feed</div>\n				</form>\n			</li>\n			<li><a href='/feeds' class='manage-feeds' >Manage feeds</a></li>\n		</ul>\n	</nav>\n	<nav class='options'>\n\n		<ul>\n			<li><a href='/logout' class='reedControl logout' >Log out</a></li>\n		</ul>\n		\n	</nav>\n	\n</div>	\n	";
}), this.reedify.templates.nav_streams = Handlebars.template(function(Handlebars, depth0, helpers, partials, data) {
    function program1(depth0, data) {
        var stack1, buffer = "";
        return buffer += '\n	<li>\n		<a href="/stream/', (stack1 = helpers.stream_id) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.stream_id, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + "\" rel='", (stack1 = helpers.stream_id) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.stream_id, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + "' class='reedControl stream stream_", (stack1 = helpers.stream_id) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.stream_id, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + "'>", (stack1 = helpers.title) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.title, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + '</a>\n		<a href="#" class=\'edit-stream edit-stream_', 
        (stack1 = helpers.stream_id) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.stream_id, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + "' rel='", (stack1 = helpers.stream_id) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.stream_id, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + "'>Edit</a>\n		<ul class='feeds'>\n			", stack1 = helpers.each.call(depth0, depth0.feeds, {
            hash: {},
            inverse: self.noop,
            fn: self.program(2, program2, data),
            data: data
        }), (stack1 || 0 === stack1) && (buffer += stack1), buffer += "\n		</ul>\n	</li>\n";
    }
    function program2(depth0, data) {
        var stack1, buffer = "";
        return buffer += '\n			<li>\n				<a href="/feed/', (stack1 = helpers.feed_id) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.feed_id, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + "\" rel='", (stack1 = helpers.feed_id) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.feed_id, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + "' class='reedControl feed feed-name feed_", 
        (stack1 = helpers.feed_id) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.feed_id, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + "'>\n					<img src=\"http://www.google.com/s2/favicons?domain=", 
        (stack1 = helpers.site_url) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.site_url, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + '" alt="" />\n					<span class=\'title\'>', 
        (stack1 = helpers.title) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.title, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + "</span>\n				</a>\n			</li>\n			";
    }
    this.compilerInfo = [ 4, ">= 1.0.0" ], helpers = this.merge(helpers, Handlebars.helpers), 
    data = data || {};
    var stack1, buffer = "", functionType = "function", escapeExpression = this.escapeExpression, self = this;
    return stack1 = helpers.each.call(depth0, depth0.streams, {
        hash: {},
        inverse: self.noop,
        fn: self.program(1, program1, data),
        data: data
    }), (stack1 || 0 === stack1) && (buffer += stack1), buffer += "\n";
}), this.reedify.templates.popup_about = Handlebars.template(function(Handlebars, depth0, helpers, partials, data) {
    return this.compilerInfo = [ 4, ">= 1.0.0" ], helpers = this.merge(helpers, Handlebars.helpers), 
    data = data || {}, "<div id='about' class='popup full'>\n	<div class='content' >\n		<a href='/' class='close-button'>Close</a>\n		<div class='about-content'></div>\n	</div>\n</div>";
}), this.reedify.templates.popup_feed_edit = Handlebars.template(function(Handlebars, depth0, helpers, partials, data) {
    function program1(depth0, data) {
        var stack1, buffer = "";
        return buffer += "\n			<li class='list-feed-item' id=\"feed-", (stack1 = helpers.feed_id) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.feed_id, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + "\">\n				\n				<a href=\"#\" class='feed-unsubscribe' rel='", 
        (stack1 = helpers.feed_id) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.feed_id, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + "'>Unsubscribe</a>\n				<a href=\"/feed/", 
        (stack1 = helpers.feed_id) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.feed_id, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + "\" class='reedControl site-name'>", (stack1 = helpers.title) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.title, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + '</a>\n				<a href="', (stack1 = helpers.site_url) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.site_url, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + '" target="_blank" class=\'site-url\'>', (stack1 = helpers.site_url) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.site_url, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + "</a>\n				\n			</li>\n			";
    }
    this.compilerInfo = [ 4, ">= 1.0.0" ], helpers = this.merge(helpers, Handlebars.helpers), 
    data = data || {};
    var stack1, buffer = "", functionType = "function", escapeExpression = this.escapeExpression, self = this;
    return buffer += "<div id='stream-edit' class='popup'>\n	\n	<div class='stream-edit content' >\n		\n		<a href='#' class='close-button'>Close</a>\n		<h1>Manage Feed Subscriptions</h1>\n		\n		<ul class='feed-list'>\n			", 
    stack1 = helpers.each.call(depth0, depth0.feeds, {
        hash: {},
        inverse: self.noop,
        fn: self.program(1, program1, data),
        data: data
    }), (stack1 || 0 === stack1) && (buffer += stack1), buffer += "\n		</ul>\n		\n	</div>\n</div>";
}), this.reedify.templates.popup_stream_edit = Handlebars.template(function(Handlebars, depth0, helpers, partials, data) {
    function program1() {
        return "\n		<h1>Edit Smart Stream</h1>		\n		";
    }
    function program3() {
        return "\n		<h1>Create Smart Stream</h1>\n		";
    }
    function program5(depth0, data) {
        var stack1;
        return (stack1 = helpers.stream_id) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.stream_id, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        escapeExpression(stack1);
    }
    function program7(depth0, data) {
        var stack1;
        return (stack1 = helpers.title) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.title, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        escapeExpression(stack1);
    }
    function program9(depth0, data) {
        var stack1;
        return (stack1 = helpers.search_term) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.search_term, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        escapeExpression(stack1);
    }
    function program11() {
        return 'checked="checked"';
    }
    function program13(depth0, data) {
        var stack1, buffer = "";
        return buffer += "\n						<li class='list-feed-item'>\n							<label>\n								\n								<div class='item-pre'>\n									<input name='feed_", 
        (stack1 = helpers.feed_id) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.feed_id, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + "' type='checkbox' class='feed-checkbox'\n									", 
        stack1 = helpers["if"].call(depth0, depth0.selected, {
            hash: {},
            inverse: self.noop,
            fn: self.program(11, program11, data),
            data: data
        }), (stack1 || 0 === stack1) && (buffer += stack1), buffer += " />\n								</div>\n								<div class='item-content'>\n									<div class='site-name'>", 
        (stack1 = helpers.title) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.title, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + '</div>\n									<a href="', (stack1 = helpers.site_url) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.site_url, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + '" target="_blank" class=\'site-url\'>', (stack1 = helpers.site_url) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.site_url, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + "</a>\n								</div>\n								\n								\n							</label>\n						</li>\n						";
    }
    function program15(depth0, data) {
        var stack1, buffer = "";
        return buffer += '	\n				<a href="#" class=\'destroy-feed alert right\' rel="', 
        (stack1 = helpers.stream_id) ? stack1 = stack1.call(depth0, {
            hash: {},
            data: data
        }) : (stack1 = depth0.stream_id, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
        buffer += escapeExpression(stack1) + '">Delete</a>	\n				';
    }
    this.compilerInfo = [ 4, ">= 1.0.0" ], helpers = this.merge(helpers, Handlebars.helpers), 
    data = data || {};
    var stack1, buffer = "", functionType = "function", escapeExpression = this.escapeExpression, self = this;
    return buffer += "<div id='stream-edit' class='popup'>\n	\n	<div class='stream-edit content' >\n		\n		", 
    stack1 = helpers["if"].call(depth0, depth0.stream_id, {
        hash: {},
        inverse: self.program(3, program3, data),
        fn: self.program(1, program1, data),
        data: data
    }), (stack1 || 0 === stack1) && (buffer += stack1), buffer += '\n		\n		<form action="/edit_stream/">\n			\n			<input type="hidden" name="stream_id" value=\'', 
    stack1 = helpers["if"].call(depth0, depth0.stream_id, {
        hash: {},
        inverse: self.noop,
        fn: self.program(5, program5, data),
        data: data
    }), (stack1 || 0 === stack1) && (buffer += stack1), buffer += "' />\n	\n			<div class='group'>\n				<input name='title' value='", 
    stack1 = helpers["if"].call(depth0, depth0.title, {
        hash: {},
        inverse: self.noop,
        fn: self.program(7, program7, data),
        data: data
    }), (stack1 || 0 === stack1) && (buffer += stack1), buffer += "' placeholder=\"Title\" class='large' />\n			</div>\n	\n			<div class='group'>\n		\n				<label>\n					<input name='search_term' value='", 
    stack1 = helpers["if"].call(depth0, depth0.search_term, {
        hash: {},
        inverse: self.noop,
        fn: self.program(9, program9, data),
        data: data
    }), (stack1 || 0 === stack1) && (buffer += stack1), buffer += "' placeholder='Search terms' />	\n				</label>\n	\n				<label>\n					<input name='only_unread' type='checkbox' ", 
    stack1 = helpers["if"].call(depth0, depth0.only_unread, {
        hash: {},
        inverse: self.noop,
        fn: self.program(11, program11, data),
        data: data
    }), (stack1 || 0 === stack1) && (buffer += stack1), buffer += " />\n					Only include unread items\n				</label>\n		\n			</div>\n	\n			<div class='group'>		\n				<label>\n					All Feeds:\n					<input name='all_feeds' type='checkbox' />	\n				</label>\n				\n				<div class='include-only'>\n					<div class='title'>\n						Include only these feeds:\n						\n						<div class='filter'>\n							Filter:\n							<input type='search' class='filter' />						\n						</div>\n						<div class='filter'>\n							Select:\n							<a class='filter-select-all' href=\"#\">All</a> / \n							<a class='filter-select-none' href=\"#\">None</a>							\n						</div>\n						\n					</div>\n					<ul class='feed-list'>\n						", 
    stack1 = helpers.each.call(depth0, depth0.feeds, {
        hash: {},
        inverse: self.noop,
        fn: self.program(13, program13, data),
        data: data
    }), (stack1 || 0 === stack1) && (buffer += stack1), buffer += "\n					</ul>\n				</div>\n				\n				\n			</div>\n			<div class='group'>\n				<div class='loader'><span></span>&nbsp;</div>\n				<input type='submit' value='Save Changes' />\n				<a class='cancel' href='#'>Cancel</a>\n				", 
    stack1 = helpers["if"].call(depth0, depth0.stream_id, {
        hash: {},
        inverse: self.noop,
        fn: self.program(15, program15, data),
        data: data
    }), (stack1 || 0 === stack1) && (buffer += stack1), buffer += "\n			</div>\n			\n			\n		</form>\n	\n	</div>\n	\n</div>";
}), this.reedify.templates.user_login = Handlebars.template(function(Handlebars, depth0, helpers, partials, data) {
    this.compilerInfo = [ 4, ">= 1.0.0" ], helpers = this.merge(helpers, Handlebars.helpers), 
    data = data || {};
    var stack1, buffer = "", functionType = "function", escapeExpression = this.escapeExpression;
    return buffer += "<div id='login-popup' class='popup'>\n	\n	<div class='content' >\n		\n		<form>\n			<div class='title'>\n				<div class='app-title'><span>Reedify</span></div>	\n				<div class='feed-wrangle'></div>\n			</div>\n			\n			<div class='group login'>\n				\n				<p>Log in using Feed Wrangler <img src=\"/assets/feedwrangler-16.png\" width=\"16\" height=\"16\" alt=\"Feed Wrangler Logo\"></p>\n				\n				<input name='email' value='' type='email' placeholder=\"Email\" />\n				<input name='password' value='' type='password' placeholder=\"Password\" />\n				\n				<input type='submit' value='Log in' />	\n				<div class='loader'><span></span>&nbsp;</div>	\n				\n				<div class='error'></div>\n									\n			</div>\n			\n			<div class='group'>\n				<br/></br/>\n				<div class='small'>\n					\n					<p>Reedify is an RSS client for <a href=\"http://feedwrangler.net/\" target=\"_blank\">Feed Wrangler</a>. If you don't have an account, you'll need to sign up. Absolutely no information is stored server-side by Reedify. It's just a dumb front-end client for Feed Wrangler's syncing platform.</p>\n					<p>Written by <a href=\"http://isaacwilliams.net\" target=\"_blank\">Isaac Williams</a>. Questions, bugs, etc: <a href=\"http://twitter.com/isaacwilliams\" target=\"_blank\">@isaacwilliams</a>.</p>\n					<!-- <p>Built with the help of Zepto, Handlebars, Coffeescript &amp; Sass</p> -->\n					\n				</div>		\n				\n				\n			</div>\n			\n			\n		</form>\n		\n	</div>\n	\n	<div class='app-version'>\n		<div>", 
    (stack1 = helpers.version) ? stack1 = stack1.call(depth0, {
        hash: {},
        data: data
    }) : (stack1 = depth0.version, stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1), 
    buffer += escapeExpression(stack1) + '</div>\n		<a href="/about" class="reedControl" >Change log</a>\n	</div>\n	\n</div>';
}), function() {
    var AppRouter, FeedItem, FeedItemList, FeedList, LoginPopupView, Navigation, PopupView, ReedifyApp, UserData, Wrangler, app, _ref, __hasProp = {}.hasOwnProperty, __extends = function(child, parent) {
        function ctor() {
            this.constructor = child;
        }
        for (var key in parent) __hasProp.call(parent, key) && (child[key] = parent[key]);
        return ctor.prototype = parent.prototype, child.prototype = new ctor(), child.__super__ = parent.prototype, 
        child;
    };
    FeedList = function() {
        function FeedList() {}
        return FeedList.prototype.loadFeeds = function(forceReload, success) {
            var _this = this;
            return this.feeds = JSON.parse(localStorage.getItem("reedify.userFeeds")), !this.feeds || forceReload ? app.wrangler.query("subscriptions/list", {}, function(data) {
                return _this.feeds = data.feeds, localStorage.setItem("reedify.userFeeds", JSON.stringify(_this.feeds)), 
                success ? success() : void 0;
            }) : success ? success() : void 0;
        }, FeedList.prototype.getFeed = function(id) {
            var _feed, _i, _len, _ref;
            for (_ref = this.feeds, _i = 0, _len = _ref.length; _len > _i; _i++) if (_feed = _ref[_i], 
            id === _feed.feed_id) return _feed;
            return null;
        }, FeedList.prototype.removeFeed = function(id) {
            var feedCount, i, _feed;
            for (feedCount = this.feeds.length - 1, i = 0; feedCount > i; ) _feed = this.feeds[i], 
            _feed && _feed.feed_id === id && (this.feeds.splice(i, 1), i = feedCount), i++;
            return localStorage.setItem("reedify.userFeeds", JSON.stringify(this.feeds)), null;
        }, FeedList.prototype.getSiteURLForFeedId = function(id) {
            var _feed, _i, _len, _ref;
            if (this.feeds) for (_ref = this.feeds, _i = 0, _len = _ref.length; _len > _i; _i++) if (_feed = _ref[_i], 
            id === _feed.feed_id) return _feed.feed_url;
            return null;
        }, FeedList.prototype.getSelectedFeedList = function(selectedFeeds) {
            var feed, feedList, _i, _len;
            for (feedList = JSON.parse(JSON.stringify(this.feeds)), _i = 0, _len = feedList.length; _len > _i; _i++) feed = feedList[_i], 
            feed.selected = -1 !== selectedFeeds.indexOf(feed.feed_id) ? !0 : !1;
            return feedList;
        }, FeedList;
    }(), PopupView = function() {
        function PopupView() {
            this.$el = $(this.template(this));
        }
        return PopupView.prototype.template = null, PopupView.prototype.animationShow = "popup-show", 
        PopupView.prototype.animationHide = "popup-hide", PopupView.prototype.showPopup = function(callback) {
            return this.$el.animate(animationShow, {
                duration: 250,
                easing: "ease-in-out",
                complete: function() {
                    return callback ? callback() : void 0;
                }
            });
        }, PopupView.prototype.hidePopup = function(callback) {
            return this.$el.animate(animationHide, {
                duration: 250,
                easing: "ease-in-out",
                complete: function() {
                    return {
                        complete: function() {
                            return this.$el.remove(), callback ? callback() : void 0;
                        }
                    };
                }
            });
        }, PopupView;
    }(), LoginPopupView = function(_super) {
        function LoginPopupView() {
            return _ref = LoginPopupView.__super__.constructor.apply(this, arguments);
        }
        return __extends(LoginPopupView, _super), LoginPopupView;
    }(PopupView), UserData = function() {
        function UserData() {
            Cookies.get("reedify.accessToken") && (this.accessToken = Cookies.get("reedify.accessToken"));
        }
        return UserData.prototype.accessToken = null, UserData.prototype.template = window.reedify.templates.user_login, 
        UserData.prototype.setAccessToken = function(accessToken) {
            return this.accessToken = accessToken, Cookies.set("reedify.accessToken", accessToken, {
                expires: 2592e3
            });
        }, UserData.prototype.showLogin = function() {
            var $loginPopup, user;
            return $loginPopup = $(this.template({
                version: app.version
            })), $("body").append($loginPopup), $loginPopup.find("div.content").animate("login-popup-show", {
                duration: 500,
                easing: "ease-out"
            }), user = this, $loginPopup.find("form").on("submit", function() {
                var email, password;
                return email = $loginPopup.find('input[name="email"]').val(), password = $loginPopup.find('input[name="password"]').val(), 
                $loginPopup.addClass("loading"), user.login(email, password, function() {
                    return $loginPopup.animate("popup-hide", {
                        duration: 250,
                        easing: "ease-in-out",
                        complete: function() {
                            return $loginPopup.remove();
                        }
                    });
                }, function(data) {
                    return (null != data ? data.error : void 0) && $loginPopup.find(".error").html(data.error), 
                    $loginPopup.removeClass("loading");
                }), !1;
            });
        }, UserData.prototype.login = function(email, password, success, error) {
            return app.wrangler.query("users/authorize", {
                email: email,
                password: password
            }, function(data) {
                return data.error ? error(data) : (app.user.setAccessToken(data.access_token), app.router.redirect("/"), 
                success(data));
            }, function(data) {
                return error(data);
            });
        }, UserData.prototype.logout = function() {
            return console.log("LOG OUT"), Cookies.expire("reedify.accessToken"), localStorage.setItem("reedify.userStreams", null), 
            localStorage.setItem("reedify.userFeeds", null);
        }, UserData;
    }(), Wrangler = function() {
        function Wrangler() {}
        return Wrangler.prototype.apiProxy = "/wrangle.php", Wrangler.prototype.query = function(apiURL, options, success, error) {
            var query;
            return options.url = apiURL, app.user.accessToken && (options.access_token = app.user.accessToken), 
            console.log("Wrangling: ", apiURL, options), query = $.ajax({
                url: this.apiProxy,
                data: options,
                dataType: "json",
                success: function(data) {
                    if (data && !data.error) {
                        if (console.log("Wrangling success:", data), success) return success(data);
                    } else if (console.log("Wrangling error:", data), error) return error(data);
                },
                error: function(data) {
                    return console.log("Wrangling error:", data), error(data);
                }
            });
        }, Wrangler;
    }(), app = window.app, FeedItem = function() {
        function FeedItem(data, feed) {
            this.feed = feed, $.extend(this, data), data.end && (this.template = window.reedify.templates.feed_item_end);
        }
        return FeedItem.prototype.template = window.reedify.templates.feed_item, FeedItem.prototype.readChanged = !1, 
        FeedItem.prototype.select = function() {
            return this.readChanged || this.setRead(!0), this.$el.addClass("current");
        }, FeedItem.prototype.setRead = function(read) {
            return this.read = read, this.read && this.$el.removeClass("unread"), this.read || this.$el.addClass("unread"), 
            this.readChanged = !0, this.updateData();
        }, FeedItem.prototype.setStarred = function(starred) {
            return console.log("SET STAR", this), this.starred = starred, this.starred || this.$el.removeClass("starred").removeClass("setManual"), 
            this.starred && this.$el.addClass("starred").addClass("setManual"), this.updateData();
        }, FeedItem.prototype.updateData = function() {
            var option;
            return option = {
                feed_item_id: this.feed_item_id,
                read: this.read,
                read_later: this.read_later,
                starred: this.starred
            }, app.wrangler.query("feed_items/update", option, function() {}, function() {});
        }, FeedItem.prototype.render = function() {
            var body, _ref1, _this = this;
            return -1 !== (null != (_ref1 = this.body) ? _ref1.indexOf("script") : void 0) && (body = $(this.body), 
            body.find("script").remove(), this.body = body.html()), this.$el ? this.$el.html($(this.template(this)).html()) : this.$el = $(this.template(this)), 
            this.$el.on("click", function() {
                return _this.feed.selectItem(_this);
            }), this.$el.find(".read-status").on("click", function(e) {
                return e.stopPropagation(), _this.setRead(!_this.read);
            }), this.$el.find(".star-status").on("click", function(e) {
                return e.stopPropagation(), _this.setStarred(!_this.starred);
            }), this.$el;
        }, FeedItem;
    }(), FeedItemList = function() {
        function FeedItemList() {
            this.feedItems = [], this.$el = $(this.el);
        }
        return FeedItemList.prototype.el = "#feed", FeedItemList.prototype.template = window.reedify.templates.feed_item_list, 
        FeedItemList.prototype.read = "false", FeedItemList.prototype.starred = null, FeedItemList.prototype.feed_id = null, 
        FeedItemList.prototype.stream_id = null, FeedItemList.prototype.offset = 0, FeedItemList.prototype.limit = 10, 
        FeedItemList.prototype.currentItemId = -1, FeedItemList.prototype.currentItem = null, 
        FeedItemList.prototype.feedItems = null, FeedItemList.prototype.loading = !1, FeedItemList.prototype.endOfList = !1, 
        FeedItemList.prototype.clear = function() {
            return this.$el.html(""), this.current_requst && this.current_requst.abort(), this.loading = !1, 
            this.endOfList = !1, this.feedItems = [], this.currentItem = null, this.currentItemId = -1, 
            this.limit = 10, this.offset = 0, this.read = "false", this.starred = null, this.feed_id = null, 
            this.stream_id = null, this.$el = $(this.el), this.$el.html(this.template({}));
        }, FeedItemList.prototype.render = function() {
            var $itemList, feedTtem, _i, _len, _ref1, _results;
            for ($itemList = this.$el.find("div.item-list"), _ref1 = this.feedItems, _results = [], 
            _i = 0, _len = _ref1.length; _len > _i; _i++) feedTtem = _ref1[_i], feedTtem.$el ? _results.push(void 0) : _results.push($itemList.append(feedTtem.render()));
            return _results;
        }, FeedItemList.prototype.navigateNext = function() {
            return this.currentItemId++, this.currentItemId >= this.feedItems.length - 1 && (this.currentItemId = this.feedItems.length - 1), 
            this.selectItem(this.feedItems[this.currentItemId]);
        }, FeedItemList.prototype.navigatePrev = function() {
            return this.currentItemId--, this.currentItemId <= 0 && (this.currentItemId = 0), 
            this.selectItem(this.feedItems[this.currentItemId]);
        }, FeedItemList.prototype.selectItem = function(item) {
            return this.currentItem = item, this.currentItemId = this.feedItems.indexOf(item), 
            this.$el.find("div.item-list div.item").removeClass("current"), item.select(), item;
        }, FeedItemList.prototype.setLoading = function(loading) {
            return this.current_request = null, this.loading = loading, this.loading && this.$el.addClass("loading"), 
            this.loading ? void 0 : this.$el.removeClass("loading");
        }, FeedItemList.prototype.getFeedItems = function() {
            var options, queryURL, _this = this;
            return options = {}, this.read && (options.read = this.read), this.starred && (options.starred = this.starred), 
            this.feed_id && (options.feed_id = this.feed_id), this.offset && (options.offset = this.offset), 
            this.limit && (options.limit = this.limit), this.stream_id && (options.stream_id = this.stream_id), 
            this.feed_id && (options.feed_id = this.feed_id), this.setLoading(!0), queryURL = "feed_items/list", 
            this.stream_id && (queryURL = "streams/stream_items"), this.current_request = app.wrangler.query(queryURL, options, function(data) {
                var feedItem, feed_item, _i, _len, _ref1;
                for (_this.setLoading(!1), console.log(data, data.count), _ref1 = data.feed_items, 
                _i = 0, _len = _ref1.length; _len > _i; _i++) feed_item = _ref1[_i], feedItem = new FeedItem(feed_item, _this), 
                feedItem.site_url = window.app.feedList.getSiteURLForFeedId(feedItem.feed_id), _this.feedItems.push(feedItem);
                return 0 === data.count && (feedItem = new FeedItem({
                    end: !0
                }, _this), _this.feedItems.push(feedItem), _this.endOfList = !0), _this.render();
            }, function() {
                return _this.setLoading(!1);
            });
        }, FeedItemList.prototype.getMoreFeedItems = function(success, error) {
            return this.loading || this.endOfList ? void 0 : (this.offset += this.limit, this.getFeedItems(success, error));
        }, FeedItemList;
    }(), Navigation = function() {
        function Navigation() {}
        return Navigation.prototype.template = window.reedify.templates.nav, Navigation.prototype.templateStreams = window.reedify.templates.nav_streams, 
        Navigation.prototype.render = function() {
            return this.$el ? this.$el.html = $(this.template({
                feeds: app.feedList.feeds
            })).html() : (this.$el = $(this.template({
                feeds: app.feedList.feeds
            })), $("body").append(this.$el)), this.initNavControls();
        }, Navigation.prototype.initNavControls = function() {
            var nav, _this = this;
            return nav = this, this.$el.find("a.manage-feeds").on("click", function(e) {
                return e.preventDefault(), _this.manageFeeds();
            }), this.$el.find('input[name="url"]').on("focus", function() {
                return app.disableControls();
            }), this.$el.find('input[name="url"]').on("blur", function() {
                return app.initControls();
            }), this.$el.find("form.add-feed").on("submit", function(e) {
                var url;
                return e.preventDefault(), url = _this.$el.find('form.add-feed input[name="url"]').val(), 
                _this.addFeed(url);
            });
        }, Navigation.prototype.showFeedControl = function() {
            return this.$el.find("nav.feeds").show();
        }, Navigation.prototype.manageFeeds = function() {
            var $editFeeds;
            return $editFeeds = $(window.Handlebars.templates.popup_feed_edit(app.feedList)), 
            $("body").append($editFeeds), $("body").addClass("noscroll"), $editFeeds.animate("popup-show", {
                duration: 250,
                easing: "ease-in-out"
            }), $editFeeds.find("a.close-button").on("click", function(e) {
                return e.preventDefault(), $("body").removeClass("noscroll"), $editFeeds.animate("popup-hide", {
                    duration: 250,
                    easing: "ease-in-out",
                    complete: function() {
                        return $editFeeds.remove();
                    }
                });
            }), $editFeeds.find("a.feed-unsubscribe").on("click", function(e) {
                var $listItem, feedId;
                return e.preventDefault(), feedId = parseInt($(this).attr("rel")), $listItem = $editFeeds.find("#feed-" + feedId), 
                $listItem.css({
                    opacity: .5
                }), app.wrangler.query("subscriptions/remove_feed", {
                    feed_id: feedId
                }, function() {
                    return $listItem.remove();
                }, app.feedList.removeFeed(feedId), function() {
                    return $listItem.css({
                        opacity: 1
                    });
                });
            });
        }, Navigation.prototype.addFeed = function(feedURL) {
            var errorDiv, form, input, successDiv;
            return form = this.$el.find("form.add-feed"), input = form.find('input[name="url"]'), 
            errorDiv = form.find("div.error"), successDiv = form.find("div.success"), form.addClass("loading"), 
            successDiv.hide(), errorDiv.hide(), input.removeClass("error"), app.wrangler.query("subscriptions/add_feed_and_wait", {
                feed_url: feedURL,
                choose_first: !0
            }, function(data) {
                var hideSuccess, title;
                return title = data.feed.title, successDiv.show(), successDiv.text("Subscribed to " + title), 
                hideSuccess = function() {
                    return successDiv.hide();
                }, setTimeout(hideSuccess, 2500), input.val(""), form.removeClass("loading"), app.feedList.loadFeeds(!0);
            }, function(data) {
                var hideError;
                return errorDiv.text(data.error), errorDiv.show(), input.addClass("error"), form.removeClass("loading"), 
                hideError = function() {
                    return errorDiv.hide(), input.removeClass("error");
                }, setTimeout(hideError, 2500);
            });
        }, Navigation.prototype.loadStreams = function(forceReload, success) {
            var _this = this;
            return this.streams = JSON.parse(localStorage.getItem("reedify.userStreams")), !this.streams || forceReload ? app.wrangler.query("streams/list", {}, function(data) {
                return _this.streams = data, localStorage.setItem("reedify.userStreams", JSON.stringify(_this.streams)), 
                _this.buildStreams(_this.streams), success ? success() : void 0;
            }) : (success && success(), this.buildStreams(this.streams));
        }, Navigation.prototype.buildStreams = function(streams) {
            var _nav;
            return console.log("BUILD STREAMS"), this.$el.find("nav.streams ul.streams").html(this.templateStreams(streams)), 
            _nav = this, this.$el.find("a.edit-stream").off("click"), this.$el.find("a.edit-stream").on("click", function(e) {
                var streamId;
                return e.preventDefault(), streamId = parseInt($(this).attr("rel")), _nav.editStream(streamId);
            });
        }, Navigation.prototype.editStream = function(streamId) {
            var $editStream, editStream, filterCache, nav, selectedFeedIds, selectedFeeds, _feed, _i, _j, _len, _len1, _ref1, _ref2, _stream;
            if (nav = this, editStream = {}, streamId) for (_ref1 = this.streams.streams, _i = 0, 
            _len = _ref1.length; _len > _i; _i++) _stream = _ref1[_i], _stream.stream_id === streamId && (editStream = _stream);
            if (editStream.feeds) {
                for (selectedFeedIds = [], _ref2 = editStream.feeds, _j = 0, _len1 = _ref2.length; _len1 > _j; _j++) _feed = _ref2[_j], 
                selectedFeedIds.push(_feed.feed_id);
                selectedFeeds = window.app.feedList.getSelectedFeedList(selectedFeedIds), editStream.feeds = selectedFeeds;
            } else editStream.feeds = window.app.feedList.feeds;
            return console.log("EDITING STREAM: ", streamId, editStream), app.disableControls(), 
            $editStream = $(window.Handlebars.templates.popup_stream_edit(editStream)), $("body").append($editStream), 
            $("body").addClass("noscroll"), $editStream.animate("popup-show", {
                duration: 250,
                easing: "ease-in-out"
            }), $editStream.find("a.cancel").on("click", function(e) {
                return e.preventDefault(), app.initControls(), $("body").removeClass("noscroll"), 
                $editStream.animate("popup-hide", {
                    duration: 250,
                    easing: "ease-in-out",
                    complete: function() {
                        return $editStream.remove();
                    }
                });
            }), $editStream.find("a.destroy-feed").on("click", function(e) {
                var options;
                return e.preventDefault(), $editStream.addClass("loading"), options = {
                    stream_id: streamId
                }, app.wrangler.query("streams/destroy", options, function() {
                    return nav.loadStreams(!0), app.initControls(), $("body").removeClass("noscroll"), 
                    $editStream.animate("popup-hide", {
                        duration: 250,
                        easing: "ease-in-out",
                        complete: function() {
                            return $editStream.remove();
                        }
                    });
                }, function(data) {
                    return console.log(data);
                });
            }), (!streamId || editStream.all_feeds) && ($editStream.find('input[name="all_feeds"]').attr("checked", !0), 
            $editStream.find("div.include-only").addClass("hide")), $editStream.find('input[name="all_feeds"]').on("change", function() {
                return $(this)[0].checked ? $editStream.find("div.include-only").addClass("hide") : $editStream.find("div.include-only").removeClass("hide");
            }), filterCache = [], $editStream.find("li.list-feed-item").each(function() {
                return filterCache.push({
                    string: $(this).text().toLowerCase(),
                    dom: $(this)
                });
            }), $editStream.find("div.filter input.filter").on("keyup click search", function() {
                var item, searchTerm, _k, _len2, _results;
                for (searchTerm = $(this).val().toLowerCase(), _results = [], _k = 0, _len2 = filterCache.length; _len2 > _k; _k++) item = filterCache[_k], 
                -1 !== item.string.indexOf(searchTerm) ? _results.push(item.dom.removeClass("hide")) : _results.push(item.dom.addClass("hide"));
                return _results;
            }), $editStream.find("div.filter a.filter-select-all").on("click", function(e) {
                return e.preventDefault(), $editStream.find("input.feed-checkbox").attr("checked", !0);
            }), $editStream.find("div.filter a.filter-select-none").on("click", function(e) {
                return e.preventDefault(), $editStream.find("input.feed-checkbox").removeAttr("checked");
            }), $editStream.find("form").on("submit", function(e) {
                var data, feedId, feedsSelected, options, queryURL, _data, _k, _len2;
                for (e.preventDefault(), $editStream.addClass("loading"), data = $(this).serializeArray(), 
                console.log(options), options = {}, feedsSelected = [], _k = 0, _len2 = data.length; _len2 > _k; _k++) _data = data[_k], 
                "on" === _data.value && (_data.value = "true"), -1 === _data.name.indexOf("feed_") ? options[_data.name] = _data.value : (feedId = _data.name.replace("feed_", ""), 
                console.log(feedId), feedsSelected.push(feedId));
                return options.only_unread || (options.only_unread = "false"), options.all_feeds || (options.all_feeds = "false"), 
                options.feed_ids = feedsSelected.join(","), console.log("SAVE STREAM", data, options), 
                queryURL = "streams/update", ("" === options.stream_id || null === options.stream_id) && (queryURL = "streams/create"), 
                app.wrangler.query(queryURL, options, function() {
                    return nav.loadStreams(!0), app.initControls(), $("body").removeClass("noscroll"), 
                    $editStream.animate("popup-hide", {
                        duration: 250,
                        easing: "ease-in-out",
                        complete: function() {
                            return $editStream.remove();
                        }
                    });
                }, function(data) {
                    return console.log(data);
                }), !1;
            });
        }, Navigation.prototype.selectNav = function(el) {
            var navItem;
            return console.log("SELECTED NAV", el), this.$el.find("a").removeClass("selected"), 
            navItem = this.$el.find(el), navItem.hasClass("feed") || this.$el.find("li.expand").removeClass("expand"), 
            navItem.addClass("selected"), 0 !== navItem.parent().find("ul.feeds").length ? navItem.parent().addClass("expand") : void 0;
        }, Navigation;
    }(), AppRouter = function() {
        function AppRouter() {
            var controller;
            controller = this, this.routes = [], this.createRoute("/", function() {
                return controller.userCheckAuth() ? controller.createFeedUnread() : void 0;
            }), this.createRoute("/starred", function() {
                return controller.userCheckAuth() ? controller.createFeedStarred() : void 0;
            }), this.createRoute("/all", function() {
                return controller.userCheckAuth() ? controller.createFeedAll() : void 0;
            }), this.createRoute("/feed/:feed_id", function(feed_id) {
                return controller.userCheckAuth() ? controller.createFeedBlog(parseInt(feed_id)) : void 0;
            }), this.createRoute("/stream/:stream_id", function(stream_id) {
                return controller.userCheckAuth() ? controller.createFeedStream(parseInt(stream_id)) : void 0;
            }), this.createRoute("/logout", function() {
                return controller.userLogout();
            }), this.createRoute("/login", function() {
                return controller.userLogin();
            }), this.createRoute("/about", function() {
                return controller.showAbout();
            });
        }
        return AppRouter.prototype.urlBase = "", AppRouter.prototype.start = function() {
            var controller;
            return this.matchRoute(window.location.pathname), controller = this, $("a.reedControl").on("click", function(e) {
                var goURL;
                return e.preventDefault(), goURL = $(this).attr("href"), history.pushState(null, null, goURL), 
                controller.matchRoute(goURL);
            });
        }, AppRouter.prototype.createRoute = function(path, callback) {
            var route;
            return path = path.replace(/:([\w\d]+)/g, "([^/]+)"), path = path.replace(/\*([\w\d]+)/g, "(.*)"), 
            route = {
                path: new RegExp("^" + path + "$", "gi"),
                callback: callback
            }, this.routes.push(route);
        }, AppRouter.prototype.matchRoute = function(path) {
            var match, route, _i, _len, _ref1, _results;
            for (path = path.replace(this.urlBase, ""), _ref1 = this.routes, _results = [], 
            _i = 0, _len = _ref1.length; _len > _i; _i++) route = _ref1[_i], match = route.path.exec(path), 
            match ? (1 === match.length && route.callback(), 2 === match.length ? _results.push(route.callback(match[1])) : _results.push(void 0)) : _results.push(void 0);
            return _results;
        }, AppRouter.prototype.redirect = function(path) {
            return history.pushState(null, null, path), this.matchRoute(path);
        }, AppRouter.prototype.getNav = function() {
            return window.app.nav;
        }, AppRouter.prototype.getFeed = function() {
            return window.app.feed;
        }, AppRouter.prototype.setFeed = function(feed) {
            return window.app.feed = feed, window.app.feed;
        }, AppRouter.prototype.createFeed = function() {
            var feed;
            return window.app.nav || window.app.createNavigation(), feed = this.getFeed(), feed.clear(), 
            feed;
        }, AppRouter.prototype.createFeedUnread = function() {
            var feed;
            return feed = this.createFeed(), feed.render(), feed.getFeedItems(), this.getNav().selectNav(".unread");
        }, AppRouter.prototype.createFeedStarred = function() {
            var feed;
            return feed = this.createFeed(), feed.starred = "true", feed.read = null, feed.render(), 
            feed.getFeedItems(), this.getNav().selectNav(".starred");
        }, AppRouter.prototype.createFeedAll = function() {
            var feed;
            return feed = this.createFeed(), feed.starred = null, feed.read = null, feed.render(), 
            feed.getFeedItems(), this.getNav().selectNav(".all");
        }, AppRouter.prototype.createFeedStream = function(streamId) {
            var feed;
            return feed = this.createFeed(), feed.starred = null, feed.read = null, feed.stream_id = streamId, 
            feed.render(), feed.getFeedItems(), this.getNav().selectNav(".stream_" + streamId);
        }, AppRouter.prototype.createFeedBlog = function(feedId) {
            var feed;
            return feed = this.createFeed(), feed.starred = null, feed.read = null, feed.feed_id = feedId, 
            feed.render(), feed.getFeedItems(), this.getNav().selectNav(".feed_" + feedId);
        }, AppRouter.prototype.showAbout = function() {
            var $changesPopup;
            return $changesPopup = $(window.reedify.templates.popup_about()), $("body").append($changesPopup), 
            $("body").addClass("noscroll"), $.ajax({
                url: "/readme.html",
                success: function(data) {
                    return $changesPopup.find("div.content div.about-content").html(data), $changesPopup.find("div.content").animate("login-popup-show", {
                        duration: 500,
                        easing: "ease-out"
                    });
                }
            });
        }, AppRouter.prototype.userCheckAuth = function() {
            return app.user.accessToken ? !0 : (this.redirect("/login"), !1);
        }, AppRouter.prototype.userLogout = function() {
            return app.user.logout(), window.location.pathname = "";
        }, AppRouter.prototype.userLogin = function() {
            return app.user.showLogin();
        }, AppRouter;
    }(), ReedifyApp = function() {
        function ReedifyApp() {}
        return ReedifyApp.prototype.version = "Reedify 0.8.2", ReedifyApp.prototype.init = function() {
            return this.registerHandlebarsHelpers(), this.user = new UserData(), this.wrangler = new Wrangler(), 
            this.router = new AppRouter(), this.router.start();
        }, ReedifyApp.prototype.createNavigation = function() {
            var feedLoaded, navLoaded, _this = this;
            return console.log("CREATE APP"), this.nav = new Navigation(), this.feed = new FeedItemList(), 
            this.feedList = new FeedList(), this.nav.render(), navLoaded = !1, feedLoaded = !1, 
            this.nav.loadStreams(!1, function() {
                return navLoaded = !0, console.log("loaded:", navLoaded, feedLoaded), navLoaded && feedLoaded ? _this.initFeed() : void 0;
            }), this.feedList.loadFeeds(!1, function() {
                return feedLoaded = !0, _this.nav.showFeedControl(), console.log("loaded:", navLoaded, feedLoaded), 
                navLoaded && feedLoaded ? _this.initFeed() : void 0;
            });
        }, ReedifyApp.prototype.initFeed = function() {
            return console.log("INIT FEED"), this.initControls();
        }, ReedifyApp.prototype.initControls = function() {
            var $feedContainer, $feedList;
            return $feedContainer = $("#feed-container"), $feedList = $("#feed"), $(window).on("scroll", function() {
                var feed, scrollBottom;
                return scrollBottom = $feedList.height() - $(window).scrollTop(), 2500 > scrollBottom ? (feed = window.app.feed, 
                feed.getMoreFeedItems()) : void 0;
            }), $(window).on("keypress", function(e) {
                var feed, item, keyVal, newWindow;
                switch (keyVal = String.fromCharCode(e.keyCode), feed = window.app.feed, console.log("KEY", keyVal, feed), 
                keyVal) {
                  case "j":
                    return item = feed.navigateNext(), $.scrollTo(item.$el.offset().top - 16);

                  case "k":
                    return item = feed.navigatePrev(), $.scrollTo(item.$el.offset().top - 16);

                  case "m":
                    return feed.currentItem.setRead(!feed.currentItem.read);

                  case "l":
                    return feed.currentItem.setStarred(!feed.currentItem.starred);

                  case "o":
                    return newWindow = window.open(feed.currentItem.url, "_blank"), window.focus();
                }
            });
        }, ReedifyApp.prototype.disableControls = function() {
            return $(window).off("scroll"), $(window).off("keypress");
        }, ReedifyApp.prototype.registerHandlebarsHelpers = function() {
            return window.Handlebars.registerHelper("date", function(unixTime) {
                var date;
                return date = moment(new Date(1e3 * unixTime)), date.format("MMMM Do YYYY, h:mm:ss a");
            }), window.Handlebars.registerHelper("date_friendly", function(unixTime) {
                var date;
                return date = moment(new Date(1e3 * unixTime)), date.fromNow();
            });
        }, ReedifyApp;
    }(), $(function() {
        return document.addEventListener("touchstart", function() {
            return !0;
        }), app = window.app = new ReedifyApp(), app.init();
    });
}.call(this);